---
title: فیلتر کردن
---

<!-- markdownlint-disable-next-line MD025 -->
# فیلتر کردن

فیلتر کردن یعنی محدودکردن داده‌ها بر اساس معیارهای مشخص. احتمالاً همین حالا هم با فیلتر کردن در جست‌وجوهای آنلاین (مثلاً موقع خرید) آشنا هستید؛ شاید فقط بخواهید شلوارهای سبز زیتونی را ببینید، یا کتاب‌هایی که نام خانوادگی نویسنده‌شان «بورخس» است، یا عکس‌هایی از آدم‌هایی که شلوار سبز زیتونی پوشیده‌اند و آثار بورخس می‌خوانند.

![Filtering](../images/filter-step.png)

وقتی یک مرحلهٔ Filter اضافه می‌کنید، می‌توانید یک یا چند ستون را برای فیلترکردن انتخاب کنید. بسته به [نوع داده](https://www.metabase.com/learn/grow-your-data-skills/data-fundamentals/data-types-overview) ستونی که انتخاب می‌کنید، [انواع مختلف فیلتر](#انواع-فیلتر-filter-types) در اختیار شما قرار می‌گیرد؛ مثلاً برای ستون‌های تاریخ، یک تقویم.

می‌توانید بعد از هر مرحلهٔ Summarize، مرحلهٔ Filter دیگری اضافه کنید. این کار به شما اجازه می‌دهد کارهایی مثل محاسبهٔ تعداد ردیف‌ها در هر ماه را انجام دهید و بعد روی ستون `count` فیلتر بگذارید تا فقط ماه‌هایی را ببینید که Count آن‌ها بیشتر از ۱۰۰ است (این عملاً معادل clause ‎`HAVING`‎ در SQL است).

وقتی از فیلتر خودتان راضی بودید، روی **Add filter** کلیک کنید و نتایج را ویژوالیزه کنید؛ دادهٔ شما با اعمال همان فیلتر به‌روزرسانی می‌شود.

اگر خواستید فیلتر را ویرایش کنید، کافی است روی فیلتر بنفش کوچک بالای صفحه کلیک کنید. اگر روی X کلیک کنید، آن فیلتر حذف می‌شود. می‌توانید به هر تعداد که لازم است فیلتر اضافه کنید.

## انواع فیلتر (Filter types)

بسته به نوع دادهٔ ستون، متابیس گزینه‌های فیلتر متفاوتی نمایش می‌دهد:

- **ستون‌های عددی** اجازه می‌دهند فقط ردیف‌هایی را نگه دارید که مقدار این ستون بین دو مقدار مشخص است، یا از یک مقدار مشخص بزرگ‌تر/کوچک‌تر است، یا دقیقاً با یک مقدار برابر است.
- **ستون‌های متنی یا دسته‌ای (Category)** به شما اجازه می‌دهند فقط داده‌هایی را نگه دارید که این ستون در آن‌ها برابر یا نابرابر با مقداری مشخص است، یا بررسی کنید که آیا رشتهٔ موردنظر را «در خود دارد»، با آن «شروع می‌شود» یا «تمام می‌شود»، و این‌که ردیف خالی است یا نه.
- **ستون‌های تاریخ** گزینه‌های زیادی برای فیلتر بر اساس بازه‌های تاریخی مشخص، بازه‌های نسبی (Relative) و موارد دیگر در اختیار شما قرار می‌دهند.
- **ستون‌های دادهٔ ساختاریافته** (معمولاً JSON یا XML) فقط می‌توانند با «Is empty» یا «Not empty» فیلتر شوند. البته بعضی پایگاه‌داده‌ها از [بازکردن JSON](../../data-modeling/json-unfolding.md) پشتیبانی می‌کنند که به شما امکان می‌دهد دادهٔ JSON را به ستون‌های جداگانه بشکنید و بعد روی آن ستون‌ها فیلتر بگذارید.
- **ستون‌های طول و عرض جغرافیایی (Latitude/Longitude)** همان گزینه‌های ستون‌های عددی را دارند، اما یک فیلتر خاص با عنوان "Inside" هم دارند که به شما اجازه می‌دهد روی طول و عرض جغرافیایی به‌صورت هم‌زمان فیلتر بگذارید.

## فیلترکردن بر اساس تاریخ

یک نکتهٔ مهم هنگام فیلترکردن روی ستون‌های تاریخ، تفاوت بین تاریخ‌های مشخص (Specific) و نسبی (Relative) است:

- **تاریخ‌های مشخص** مواردی مثل ۱ نوامبر ۲۰۱۰ یا ۳ ژوئن تا ۱۲ ژوئیه ۲۰۱۷ هستند؛ یعنی همیشه به همان تاریخ/تاریخ‌ها اشاره می‌کنند.
- **تاریخ‌های نسبی** چیزهایی مثل «۳۰ روز گذشته» یا «هفتهٔ جاری» هستند؛ با گذشت زمان، خود تاریخ‌هایی که این گزینه‌ها به آن‌ها اشاره می‌کنند _عوض می‌شوند_. تاریخ‌های نسبی راه خوبی برای تنظیم فیلتر روی یک سؤال هستند تا همیشه به‌روز بماند؛ مثلاً برای دیدن تعداد بازدیدکنندگان وب‌سایت در ۷ روز گذشته. همچنین می‌توانید روی **...** کلیک کنید و گزینهٔ **Starting from** را تنظیم کنید تا بازهٔ نسبی را جابه‌جا کنید. برای نمونه، می‌توانید بازه را روی "Previous 7 days, starting from 2 days ago" تنظیم کنید.

## فیلتر با استفاده از عبارت‌های سفارشی

![Filter expression](../images/filter-expression.png)

اگر فیلتر پیچیده‌تری مد نظر دارید، می‌توانید از منوی افزودن فیلتر، گزینهٔ [Custom Expression](./expressions.md) را انتخاب کنید و یک عبارت فیلتر بسازید. می‌توانید از عملگرهای مقایسه‌ای مثل «بزرگ‌تر از» ‎`>`‎ یا «کوچک‌تر از» ‎`<`‎، عبارات منطقی مثل `AND` و `OR` و همچنین توابع شبیه صفحه‌گسترده استفاده کنید. مثلاً: ‎`[Subtotal] > 100 OR median([Age]) < 40`‎.

برای اطلاعات بیشتر دربارهٔ نوشتن [عبارت‌ها](./expressions.md)، یا دیدن مستقیم [فهرست عبارت‌ها](./expressions-list.md) به لینک‌های مربوطه مراجعه کنید.

## فیلترکردن با Segment

اگر ادمین‌های متابیس برای جدول فعلی شما Segmentهای نام‌گذاری‌شده ساخته باشند، این Segmentها در ابتدای فهرست فیلتر، با رنگ بنفش و یک ستاره در کنارشان نمایش داده می‌شوند. این‌ها همان [**Segmentها**](../../data-modeling/segments.md) هستند و درواقع شورتکاتی برای مجموعه‌ای از فیلترهای پرکاربرد در سازمان شما محسوب می‌شوند؛ مثلاً ممکن است نام‌هایی مثل «Active Users» یا «Most Popular Products» داشته باشند.
