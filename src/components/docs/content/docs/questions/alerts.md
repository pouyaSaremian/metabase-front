---
title: هشدارها
summary: پیکربندی هشدارها برای دریافت اعلان ازطریق ایمیل، Slack یا Webhook وقتی سؤال‌های شما نتایج مهمی برمی‌گردانند.
redirect_from:
  - /docs/latest/users-guide/15-alerts
  - /docs/latest/questions/sharing/alerts
---

<!-- markdownlint-disable-next-line MD025 -->
# هشدارها

با تنظیم هشدار می‌توانید نتایج سؤالات را ازطریق ایمیل، Slack یا Webhook برای افراد بفرستید.

هشدارها فقط مخصوص سؤال‌ها هستند. اگر می‌خواهید نتایج یک داشبورد برای شما ارسال شود، به [اشتراک‌های داشبورد](../dashboards/subscriptions.md) مراجعه کنید.

## پیش‌نیازهای استفاده از هشدار

برای شروع استفاده از هشدارها، ادمین باید حداقل یکی از کانال‌های اعلان زیر را راه‌اندازی کرده باشد:

- [ایمیل](../configuring-metabase/email.md)
- [Slack](../configuring-metabase/slack.md)
- [Webhooks](../configuring-metabase/webhooks.md)

فقط ادمین‌ها و افرادی که [سطح دسترسی به تنظیمات](../permissions/application.md#settings-access) دارند می‌توانند از Webhook استفاده کنند.

## ساخت هشدار

![Get alerts](./images/get-alerts-about-this.png)

برای ساخت یک هشدار:

1. سؤال‌تان را ذخیره کنید.
2. روی آیکون **سه‌نقطه** در گوشهٔ بالا-راست صفحه کلیک کنید.
3. گزینهٔ **Create an alert** را انتخاب کنید.
4. مشخص کنید دربارهٔ چه چیزی می‌خواهید هشدار بگیرید (گزینه‌ها به نوع سؤال بستگی دارند):
   - [وقتی سؤال نتیجه برمی‌گرداند](#هشدارهای-بر-اساس-نتیجه-results-alerts) — برای هر نوع سؤال.
   - [وقتی یک سری زمانی از روی خط هدف (Goal) عبور می‌کند](#هشدارهای-خط-هدف-goal-line-alerts) — برای نمودار خطی، ستونی یا سطحی که یک سری زمانی را نشان می‌دهد.
   - [وقتی Progress bar به هدفش برسد یا از آن پایین‌تر برود](#هشدارهای-progress-bar) — برای ویژوالیزیشن‌های Progress bar.
5. مشخص کنید متابیس هر چند وقت یک‌بار نتایج را چک کند: هر دقیقه، ساعتی، روزانه، هفتگی، ماهانه، یا روی یک زمان‌بندی سفارشی که با [سینتکس cron مربوط به Quartz](https://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html) تعریف می‌کنید.
6. مقصد هشدار را انتخاب کنید: [ایمیل](../configuring-metabase/email.md)، [Slack](../configuring-metabase/slack.md) یا [Webhook](../configuring-metabase/webhooks.md) (فقط ادمین‌ها و افرادی که [سطح دسترسی به تنظیمات](../permissions/application.md#settings-access) دارند می‌توانند Webhook بسازند و برای آن پیام بفرستند).
7. سایر گزینه‌ها را پیکربندی کنید (مثل [ارسال‌کردن هشدار فقط یک‌بار](#ارسال-هشدار-تکبار-send-a-one-time-alert)).
8. روی **Done** کلیک کنید.

## ارسال هشدار تک‌بار (Send a one-time alert)

اگر هنگام تنظیم هشدار، گزینهٔ **Only send the alert once** را فعال کنید، متابیس آن هشدار را فقط یک‌بار ارسال می‌کند و بعد خودش را حذف می‌کند؛ یعنی دیگر هیچ‌وقت هشدار دیگری از همان تنظیم ارسال نمی‌شود. این هشدارهای «یک‌بارمصرف» برای سناریوهایی مثل رسیدن به یک نقطهٔ عطف یک‌باره بسیار مفیدند.

## تست‌کردن هشدار

برای تست‌کردن هشدار، ابتدا مطمئن شوید سؤال شما نتیجه برمی‌گرداند (اگر سؤال هیچ نتیجه‌ای برنگرداند، متابیس هشدار را ارسال نمی‌کند).

سپس روی دکمهٔ **Send now** کلیک کنید تا هشدار را به‌صورت دستی Trigger کنید.

## هشدارهای بر اساس نتیجه (Results alerts)

متابیس می‌تواند طبق زمان‌بندی، هر زمان که یکی از سؤال‌های شما _هر نوع نتیجه‌ای_ برگرداند برایتان هشدار ارسال کند. این نوع هشدار به‌خصوص زمانی مفید است که سؤال شما _معمولاً_ هیچ نتیجه‌ای برنمی‌گرداند، اما شما می‌خواهید هر وقت بالاخره نتیجه‌ای برگرداند باخبر شوید.

مثلاً ممکن است جدولی به نام `Reviews` داشته باشید و بخواهید هر بار که مشتری یک نظر بد (کمتر از سه ستاره) ثبت می‌کند مطلع شوید. برای این کار، یک سؤال Raw Data می‌سازید (سؤالی که لیستی از Reviewها را برمی‌گرداند) و یک فیلتر اضافه می‌کنید که فقط Reviewهای با کمتر از سه ستاره را نشان بدهد.

احتمالاً نمی‌خواهید دربارهٔ تمام Reviewهای بدی که _تا الان_ گرفته‌اید هشدار دریافت کنید، بلکه فقط Reviewهای اخیر برای‌تان مهم است. پس می‌توانید فیلتری اضافه کنید که فقط نتایج دیروز یا امروز را نشان دهد، بسته به این‌که هر چند وقت یک‌بار می‌خواهید این Reviewها را بررسی کنید. در این حالت، وقتی سؤال را اجرا می‌کنید به‌طور معمول احتمالاً هیچ نتیجه‌ای برنمی‌گرداند — که اتفاقاً نشانهٔ خوبی است.

سؤال را ذخیره کنید، هشدار بسازید و مشخص کنید متابیس هر چند وقت یک‌بار این سؤال را برای نتایج جدید چک کند. تمام شد!

## هشدارهای خط هدف (Goal line alerts)

_نیازمند [نمودار خطی، ستونی یا سطحی](./visualizations/line-bar-and-area-charts.md) با خط هدف (Goal line) است._

هشدارهای خط هدف برای مواردی مثل پیگیری Daily Active User (DAU) مفید هستند؛ جایی که می‌خواهید بدانید چه زمانی به یک عدد مشخص از DAU رسیده‌اید، یا وقتی سفارش‌های هفتگی را دنبال می‌کنید و می‌خواهید هر بار تعداد سفارش‌ها از یک آستانهٔ مشخص پایین‌تر رفت مطلع شوید.

برای ساخت هشدار زمانی که یک سری زمانی از خط هدف عبور می‌کند:

1. یک نمودار خطی، سطحی یا ستونی بسازید که یک عدد را بر حسب زمان نمایش دهد.
2. تنظیمات ویژوالیزیشن را با کلیک روی آیکون **چرخ‌دنده** در گوشهٔ پایین-چپ باز کنید.
3. در تب **Display** گزینهٔ **Show goal** را فعال کنید.
4. مقدار هدف (و در صورت تمایل برچسب آن) را انتخاب کنید و روی Done کلیک کنید.
5. سؤال را ذخیره کنید.
6. روی آیکون **سه‌نقطه** در بالا کلیک کنید و گزینهٔ "Create alert" را انتخاب کنید.

   می‌توانید انتخاب کنید:

   - آیا می‌خواهید متابیس وقتی سری زمانی از خط هدف بالاتر می‌رود هشدار بدهد یا وقتی پایین‌تر می‌آید.
   - آیا می‌خواهید هر بار که سری زمانی از خط هدف عبور می‌کند هشدار بدهد یا فقط اولین بار.
   - هر چند وقت یک‌بار متابیس بررسی کند که آیا سری زمانی از خط هدف عبور کرده است یا نه.

7. زمان‌بندی و گیرندگان هشدار را مشخص کنید و روی "Done" کلیک کنید.

## هشدارهای Progress bar

_نیازمند [ویژوالیزیشن Progress bar](./visualizations/progress-bar.md) است._

اگر می‌خواهید وقتی یک عدد به هدف مشخصی می‌رسد هشدار دریافت کنید، می‌توانید از ویژوالیزیشن Progress bar استفاده کنید.

1. سؤالی بسازید که فقط یک عدد برگرداند.
2. نوع نمودار را روی Progress Bar تنظیم کنید.
3. در تنظیمات ویژوالیزیشن، مقدار هدف را مشخص کنید.
4. سؤال را ذخیره کنید.
5. با کلیک روی آیکون **سه‌نقطه** در بالا-راست، هشدار ایجاد کنید.

در ادامه می‌توانید مشخص کنید در چه شرایطی دربارهٔ این Progress bar هشدار بگیرید:

- آیا وقتی Progress bar به خط هدف می‌رسد یا از آن پایین‌تر می‌آید هشدار ارسال شود.
- آیا هشدار فقط اولین باری که به خط هدف می‌رسیم ارسال شود یا هر بار.
- هر چند وقت یک‌بار متابیس بررسی کند که آیا هدف محقق شده است یا نه.

## ویرایش، حذف و لغو اشتراک هشدارها

برای ویرایش یا حذف هشدارهای یک سؤال، روی آیکون **سه‌نقطه** در گوشهٔ بالا-راست کلیک کنید و **Edit alerts** را انتخاب کنید. این‌که چه چیزهایی را می‌توانید ویرایش کنید بستگی دارد که ادمین باشید یا نه.

برای همهٔ کاربران:

- هر کاربر می‌تواند هشدارهایی را که خودش ساخته ویرایش کند (اما نمی‌تواند هشدارهای ساخته‌شده توسط دیگران را تغییر دهد).
- هر کاربر می‌تواند همهٔ هشدارهایی را که دریافت می‌کند ببیند و از آن‌ها لغو اشتراک کند: روی آیکون **چرخ‌دنده** در بالا-راست کلیک کنید و به **Account settings** > **Notifications** بروید.

ادمین‌ها:

- ادمین‌ها می‌توانند هر هشداری را ویرایش یا حذف کنند. این کار برگشت‌پذیر نیست، پس با احتیاط انجام دهید.
- ادمین‌ها می‌توانند گیرندگان هر هشدار را اضافه یا حذف کنند، حتی اگر خودشان آن هشدار را ایجاد نکرده باشند.
- ادمین‌ها می‌توانند هشدارها را برای هر فرد به‌صورت گروهی از [منوی People در Admin settings](../people-and-groups/managing.md#unsubscribe-from-all-subscriptions-and-alerts) مدیریت کنند.

متابیس در این موارد برای شما ایمیل ارسال می‌کند:

- وقتی یک هشدار ایجاد می‌کنید.
- وقتی از یک هشدار لغو اشتراک شده‌اید.
- وقتی یکی از هشدارهای شما از کار می‌افتد.
- وقتی خودتان از یک هشدار لغو اشتراک می‌کنید.
- وقتی یک ادمین شما را به یک هشدار اضافه می‌کند.

## از تغییر نام کانال Slack هدف خودداری کنید

وقتی هشداری را به یک کانال Slack ارسال می‌کنید، سعی کنید نام آن کانال را در Slack تغییر ندهید. اگر نام کانال را در Slack عوض کنید اما همچنان می‌خواهید متابیس به همان کانال (با نام جدید) هشدار بفرستد، باید تنظیمات هشدار را در متابیس به‌روزرسانی کنید تا به نام جدید کانال اشاره کند.

## انقضا و حالت‌های خاص برای هشدارها

در برخی شرایط، هشدارها به‌طور خودکار تغییر می‌کنند یا حذف می‌شوند:

- **اگر نام کانال Slack هدف را عوض کنید**. از نظر فنی هشدار حذف نمی‌شود، اما متابیس دیگر جایی برای ارسال هشدار ندارد. باید کانال هدف را در متابیس به نام جدید به‌روزرسانی کنید.
- **اگر خط هدف (Goal line) از سؤالی که هشدار خط هدف بر اساس آن ساخته شده حذف شود**، هشدار به نوع "Results" تغییر می‌کند.
- **اگر سؤال حذف شود**، متابیس تمام هشدارهای مربوط به آن سؤال را حذف می‌کند.

هشدارها حتی _اگر کسی که آن‌ها را ساخته دیگر حساب فعال نداشته باشد_ هم به کار خود ادامه می‌دهند. مثلاً اگر هشداری با چند گیرنده (یا ارسال به یک کانال Slack) توسط شخصی ساخته شده باشد که بعداً حسابش غیرفعال شده، آن هشدار همچنان برای گیرندگان فعال ارسال می‌شود (اما متابیس دیگر برای حساب غیرفعال ایمیل یا پیام نمی‌فرستد).

## ادمین‌ها می‌توانند همهٔ هشدارها را ببینند

{% include plans-blockquote.html feature="Usage analytics" %}

ادمین‌ها می‌توانند در کالکشن **Usage analytics** فهرستی از تمام هشدارها و اشتراک‌های داشبوردی را ببینند که در متابیس شما تنظیم شده است. نگاه کنید به [Usage analytics](../usage-and-performance-tools/usage-analytics.md#alerts-model).

## سطح دسترسی و هشدارها

برای جزئیات، بخش [Notification permissions](../permissions/notifications.md) را ببینید.

### ارسال هشدار به کانال‌های خصوصی Slack

بخش [Sending alerts and subscriptions to private Slack channels](../configuring-metabase/slack.md#sending-alerts-and-subscriptions-to-private-slack-channels) را ببینید.

## حذف برند متابیس از هشدارها

برای جزئیات دربارهٔ حذف برند متابیس از هشدارها، نگاه کنید به [حذف برند متابیس از خروجی‌ها](./exporting-results.md#remove-metabase-branding-from-exports).

## مطالعهٔ بیشتر

- [اشتراک‌های داشبورد](../dashboards/subscriptions.md)
- [راه‌اندازی ایمیل](../configuring-metabase/email.md)
- [راه‌اندازی Slack](../configuring-metabase/slack.md)
- [Usage analytics](../usage-and-performance-tools/usage-analytics.md)
