---
title: انقضای نشست
redirect_from:
  - /docs/latest/operations-guide/changing-session-expiration
---

# انقضای نشست

به‌طور پیش‌فرض، نشست‌های متابیس برای دو هفته بعد از آخرین احراز هویت کاربر معتبر هستند (مثلاً با وارد کردن آدرس ایمیل/رمز عبور یا از طریق یک ارائه‌دهنده SSO). به‌عنوان مثال، حتی اگر هر روز به instance متابیس خود سر بزنید، همچنان باید هر دو هفته دوباره وارد شوید.

## سن نشست

سن نشست حداکثر زمانی است که یک شخص در متابیس وارد می‌ماند (حتی اگر شخص مرورگر را ببندد).

می‌توانید متغیر محیطی [`MAX_SESSION_AGE`](../configuring-metabase/environment-variables.md#max_session_age) را تنظیم کنید:

```
# تغییر انقضای نشست به 24 ساعت
MAX_SESSION_AGE=1440 java --add-opens java.base/java.nio=ALL-UNNAMED -jar metabase.jar
```

یا property سیستم Java را تنظیم کنید:

```
java -DMAX_SESSION_AGE=1440 -jar metabase.jar
```

`MAX_SESSION_AGE` بر حسب دقیقه است.

## تایم‌اوت نشست

{% include plans-blockquote.html feature="Session timeout" %}

تایم‌اوت نشست حداکثر زمانی است که یک شخص می‌تواند غیرفعال باشد (مثلاً اگر کسی متابیس را در یک تب مرورگر فراموش‌شده باز بگذارد).

می‌توانید این تنظیم را از **Admin** > **Authentication** toggle کنید، یا متغیر محیطی [`MB_SESSION_TIMEOUT`](../configuring-metabase/environment-variables.md#mb_session_timeout) را تنظیم کنید.

تایم‌اوت نشست به‌طور پیش‌فرض null است. می‌توانید از تایم‌اوت نشست برای خارج کردن افراد زودتر از حداکثر [سن نشست](#session-age) استفاده کنید.

## کوکی‌های نشست

متابیس همچنین از استفاده از [کوکی‌های نشست](https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#Session_cookies) پشتیبانی می‌کند، که به این معنی است که کاربران فقط تا زمانی که مرورگر خود را می‌بندند احراز هویت می‌مانند. این می‌تواند به‌صورت هر کاربر با uncheck کردن جعبه "Remember me" هنگام ورود فعال شود. وقتی کاربر مرورگر خود را می‌بندد، دفعه بعد که به متابیس سر می‌زند باید دوباره وارد شود. انقضای نشست همچنان اعمال می‌شود، بنابراین حتی اگر مرورگر خود را برای همیشه باز بگذارید، همچنان باید بعد از دو هفته یا هر انقضای نشستی که پیکربندی کرده‌اید دوباره احراز هویت کنید.

می‌توانید به متابیس بگویید همیشه از کوکی‌های نشست با متغیر محیطی یا property سیستم Java `MB_SESSION_COOKIES` استفاده کند:

```
MB_SESSION_COOKIES=true java --add-opens java.base/java.nio=ALL-UNNAMED -jar metabase.jar
```

تنظیم این متغیر محیطی رفتار جعبه "Remember me" را override می‌کند و استفاده از کوکی‌های نشست را برای همه کاربران اعمال می‌کند.

توجه داشته باشید که مرورگرها ممکن است از "session restoring" استفاده کنند، که به این معنی است که آن‌ها به‌طور خودکار نشست قبلی خود را هنگام باز شدن مجدد بازیابی می‌کنند. در این مورد، مرورگر به‌طور مؤثر طوری عمل می‌کند که انگار هرگز بسته نشده است؛ کوکی‌های نشست همانند کوکی‌های دائمی عمل می‌کنند. برای مرورگرهایی که از این ویژگی پشتیبانی می‌کنند، این رفتار معمولاً قابل پیکربندی است.
