---
title: "فیلتر و محدود کردن داده"
description: "یاد بگیرید همه روش‌های فیلتر و محدود کردن داده در متابیس"
redirect_from:
  - /learn/metabase-basics/getting-started/filter
toc:
  - id: "filter-and-limit-data"
    title: "فیلتر و محدود کردن داده"
    level: 1
    href: "#filter-and-limit-data"
  - id: "introduction"
    title: "مقدمه"
    level: 2
    href: "#introduction"
  - id: "filter-by-a-column"
    title: "فیلتر بر اساس یک ستون"
    level: 2
    href: "#filter-by-a-column"
  - id: "filter-based-on-a-data-point"
    title: "فیلتر بر اساس یک نقطه داده"
    level: 2
    href: "#filter-based-on-a-data-point"
  - id: "filter-a-time-series-chart"
    title: "فیلتر یک نمودار سری زمانی"
    level: 2
    href: "#filter-a-time-series-chart"
  - id: "add-multiple-filters-at-once"
    title: "افزودن چندین فیلتر به یکباره"
    level: 2
    href: "#add-multiple-filters-at-once"
  - id: "filter-using-custom-expressions"
    title: "فیلتر با استفاده از عبارات سفارشی"
    level: 2
    href: "#filter-using-custom-expressions"
  - id: "filtering-tips"
    title: "نکات فیلتر کردن"
    level: 2
    href: "#filtering-tips"
  - id: "filter-summarized-data"
    title: "فیلتر داده خلاصه شده"
    level: 3
    href: "#filter-summarized-data"
  - id: "filter-for-multiple-values"
    title: "فیلتر برای چندین مقدار"
    level: 3
    href: "#filter-for-multiple-values"
  - id: "last-period-date-filters"
    title: "فیلترهای تاریخ \"دوره قبلی\""
    level: 3
    href: "#last-period-date-filters"
  - id: "include-current-period-in-date-filters"
    title: "\"شامل دوره فعلی\" در فیلترهای تاریخ"
    level: 4
    href: "#include-current-period-in-date-filters"
  - id: "filter-for-text"
    title: "فیلتر برای متن"
    level: 3
    href: "#filter-for-text"
  - id: "filter-type-is-controlled-by-field-metadata"
    title: "نوع فیلتر توسط متادیتای فیلد کنترل می‌شود"
    level: 3
    href: "#filter-type-is-controlled-by-field-metadata"
  - id: "limit-data"
    title: "محدود کردن داده"
    level: 2
    href: "#limit-data"
breadcrumbs:
  - title: "خانه"
    href: "../../index.html"
  - title: "شروع کار"
    href: "../../courses/getting-started.html"
---

# فیلتر و محدود کردن داده

یاد بگیرید همه روش‌های فیلتر و محدود کردن داده در متابیس

## مقدمه

در متابیس، می‌توانید داده‌ای که می‌بینید را با استفاده از یک فیلتر محدود کنید، مثل "سفارش‌ها از ماه گذشته" یا "مشتریان از کانادا". در این راهنما، همه روش‌های افزودن فیلتر به نمودارها و جداول در متابیس را می‌بینید، و برخی نکات و ترفندهای فیلتر کردن را یاد می‌گیرید. اگر می‌خواهید یاد بگیرید چگونه با فیلترهای داشبورد کار کنید، به جای آن [آموزش فیلترهای داشبورد](../../../docs/latest/dashboards/filters.html) را بررسی کنید.

فرض می‌کنیم از قبل می‌دانید چگونه [یک سؤال در query builder بپرسید](ask-a-question.html).

## فیلتر بر اساس یک ستون

- هنگام مشاهده یک جدول، می‌توانید روی header ستون کلیک کنید تا بر اساس آن ستون فیلتر کنید: ![ستون جدول با یک فیلتر](../../images/filter/column-filter.png)
- در query builder می‌توانید یک بلوک Filter اضافه کنید و یک ستون برای فیلتر انتخاب کنید. [پرسیدن یک سؤال در query builder](ask-a-question.html) را برای یک آموزش درباره query builder بررسی کنید!

## فیلتر بر اساس یک نقطه داده

می‌توانید بر اساس یک نقطه داده با یک کلیک فیلتر کنید:

- هنگام مشاهده یک جدول، روی یک سلول کلیک کنید تا کل جدول بر اساس مقدار آن سلول فیلتر شود ![سلول جدول با یک popup فیلتر](../../images/filter/cell-filter.png)
- هنگام مشاهده یک نمودار، روی یک کامپوننت نمودار کلیک کنید - یک نقطه داده، یک میله، بخش pie، و غیره — تا نمودار بر اساس مقادیر نقطه داده فیلتر شود: ![نقطه داده نمودار با یک popup فیلتر](../../images/filter/chart-point-filter.png) برای دیدن این در عمل، به داشبورد "E-commerce insights" در مجموعه Examples که با هر instance متابیس جدید می‌آید بروید، و سعی کنید روی بخش‌های مختلف نمودار "Revenue and orders over time" کلیک کنید.

## فیلتر یک نمودار سری زمانی

روی نمودارهایی با date breakout، یک widget در پایین صفحه برای محدود یا گسترش محدوده تاریخ خواهید داشت:

![Widget تاریخ روی یک نمودار سری زمانی](../../images/filter/date-widget.png)

## افزودن چندین فیلتر به یکباره

![روی دکمه plus کلیک کنید تا فیلتر دیگری اضافه کنید قبل از اجرای پرس‌وجو](../../images/filter/add-multiple-filters.png)

هنگام مشاهده یک جدول یا نمودار، می‌توانید چندین فیلتر به یکباره اضافه کنید، بدون اعمال فیلتر هر بار. برای افزودن فیلترهای بیشتر، روی دکمه "Filter" در بالا سمت راست کلیک کنید. برای افزودن فیلترهای بیشتر بدون اجرای آن‌ها، روی دکمه **+** کلیک کنید. برای اجرای پرس‌وجوی خود وقتی فیلترها را اضافه کردید، دکمه **Play** را در مرکز صفحه بزنید.

این وقتی مفید است که جداول بزرگ دارید. اگر فیلترها را یکی یکی اضافه کنید، متابیس هر بار که فیلتر دیگری اضافه می‌کنید یک پرس‌وجو به پایگاه داده شما ارسال می‌کند. اگر چندین فیلتر به یکباره اضافه کنید، متابیس فقط یک پرس‌وجو ارسال می‌کند.

متابیس برای رکوردهایی که همه شرایط فیلتر را به یکباره برآورده می‌کنند فیلتر می‌کند (به عبارت دیگر، فیلترها را با استفاده از شرط AND ترکیب می‌کند). اگر می‌خواهید فیلترها را با استفاده از OR ترکیب کنید، می‌توانید از [عبارات سفارشی](../../../docs/latest/questions/query-builder/expressions.html) استفاده کنید.

## فیلتر با استفاده از عبارات سفارشی

اگر می‌خواهید فیلترهای پیچیده‌تری بسازید که شرایط روی چندین فیلد را ترکیب می‌کنند مثل "همه Widgetها زیر 30 دلار یا همه Gizmoها زیر 50 دلار فروخته شده در آخر هفته‌های تعطیل"، یا جستجوی الگوهای متنی مثل "همه نظرات شامل 'Metabase' و 'awesome' در همان جمله"، می‌توانید از [عبارات سفارشی](../../../docs/latest/questions/query-builder/expressions.html) متابیس استفاده کنید.

عبارات سفارشی همچنین به شما اجازه استفاده از عبارات Boolean مثل AND، OR، و NOT برای ایجاد منطق پیچیده‌تر را می‌دهند. به عنوان مثال، می‌توانید یک فیلتر مثل این اضافه کنید:

```
([Category] = 'Widget' AND [Subtotal] < 30) OR ([Category] = 'Gizmo' AND [Subtotal] < 50)
```

[آموزش ما درباره عبارات سفارشی](../querying-and-dashboards/questions/custom-expressions.html) را برای یادگیری بیشتر بررسی کنید.

## نکات فیلتر کردن

### فیلتر داده خلاصه شده

متابیس به شما اجازه فیلتر خلاصه‌های خود را می‌دهد. به عنوان مثال، اگر یک کل درآمد بر اساس دسته محصول محاسبه کرده‌اید، سپس می‌توانید برای دسته‌هایی با کل درآمد بزرگتر از 10000 دلار فیلتر کنید.

برای فیلتر یک خلاصه:

- در query builder: یک بلوک Filter بعد از بلوک Summarize اضافه کنید: ![فیلتر خلاصه](../../images/filter/filter-summary-qb.png)
- هنگام مشاهده یک نمودار یا جدول: روی دکمه "Filter" کلیک کنید و "Summaries" را از sidebar سمت چپ انتخاب کنید ![فیلتر خلاصه در modal](../../images/filter/filter-summary-modal.png)

### فیلتر برای چندین مقدار

برخی انواع فیلتر به شما اجازه فیلتر برای چندین مقدار به یکباره را می‌دهند. در فیلترهای dropdown، می‌توانید چندین مقدار را با کلیک روی checkboxها انتخاب کنید. در فیلتر text box مثل "Contains"، "Starts with"، می‌توانید پس از وارد کردن یک مقدار "," (کاما) را فشار دهید تا مقدار دیگری اضافه کنید.

![فیلتر Contains با دو مقدار](../../images/filter/contains-two-filters.png)

منطق نحوه ترکیب مقادیر توسط متابیس روی همان فیلتر بستگی به اینکه چندین مقدار را در یک فیلتر واحد اضافه می‌کنید، یا از یک فیلتر جداگانه برای هر مقدار استفاده می‌کنید دارد:

- یک فیلتر واحد `Name Contains: anna, marie` برای رکوردهایی که "anna" **یا** "marie" را شامل می‌شوند جستجو می‌کند
- دو فیلتر `Name Contains: anna`، `Name Contains: marie` برای رکوردهایی که "anna" **و** "marie" را همزمان شامل می‌شوند جستجو می‌کند.

می‌توانید کنترل بیشتری روی نحوه ترکیب فیلترها توسط متابیس با استفاده از عبارات سفارشی دریافت کنید.

### فیلترهای تاریخ "دوره قبلی"

فیلترهای دوره آخر یا قبلی تاریخ‌ها را تا پایان دوره *کامل* قبلی شامل می‌شوند. به عنوان مثال، اگر امروز **پنجشنبه، 8 اوت 2024** است، و متابیس شما [پیکربندی شده تا دوشنبه را به عنوان اولین روز هفته داشته باشد](../../../docs/latest/configuring-metabase/localization.html#first-day-of-the-week)، سپس فیلترهای دوره آخر به این صورت رفتار می‌کنند:

| فیلتر | تاریخ‌ها |
| --- | --- |
| سال گذشته | 1 ژانویه 2023 - 31 دسامبر 2023 |
| 2 سال گذشته | 1 ژانویه 2022 - 31 دسامبر 2023 |
| 4 سه‌ماهه گذشته | 1 ژوئیه 2023 – 30 ژوئن 2024 |
| 12 ماه گذشته | 1 اوت 2023 - 31 ژوئیه 2024 |
| 52 هفته گذشته | 7 اوت 2023 (دوشنبه) - 4 اوت 2024 (یکشنبه) |
| 365 روز گذشته | 9 اوت 2023 - 7 اوت 2024 |

پس باید granularity دوره را بر اساس اینکه آخرین دوره کامل که می‌خواهید شامل شود چیست انتخاب کنید. به عنوان مثال، اگر می‌خواستید همه *روزها* از 1 اوت 2023 تا 7 اوت 2024 را شامل کنید، باید "7 *روز* گذشته" را به جای "هفته گذشته" انتخاب کنید.

متابیس محدوده تاریخ شامل شده در فیلتر شما را نشان می‌دهد، پس مطمئن شوید محدوده تاریخ با آنچه انتظار دارید match می‌کند!

#### "شامل دوره فعلی" در فیلترهای تاریخ

هنگام استفاده از یک فیلتر "دوره آخر"، می‌توانید انتخاب کنید دوره فعلی را شامل کنید. در این مورد، متابیس از فیلتر تعیین شده توسط دوره آخر استفاده می‌کند، و دوره *کامل* دیگری که تاریخ فعلی را شامل می‌شود اضافه می‌کند. این ممکن است محدوده‌های تاریخی که به آینده گسترش می‌یابند بدهد.

اگر امروز **پنجشنبه، 8 اوت 2024** است، و هفته شما از دوشنبه شروع می‌شود، سپس فیلترهای دوره آخر **با Include current period toggle شده** به این صورت رفتار می‌کنند:

| فیلتر | تاریخ‌ها |
| --- | --- |
| سال گذشته شامل دوره فعلی | 1 ژانویه 2023 - 31 دسامبر 2024 |
| 2 سال گذشته شامل دوره فعلی | 1 ژانویه 2022 - 31 دسامبر 2024 |
| 4 سه‌ماهه گذشته شامل دوره فعلی | 1 ژوئیه 2023 – 30 ژوئن 2024 |
| 12 ماه گذشته شامل دوره فعلی | 1 اوت 2023 - 31 اوت 2024 |
| 52 هفته گذشته شامل دوره فعلی | 7 اوت 2023 (دوشنبه) - 11 اوت 2024 (یکشنبه) |
| 365 روز گذشته شامل دوره فعلی | 9 اوت 2023 - 8 اوت 2024 (توجه کنید که 2024 یک سال کبیسه است) |

### فیلتر برای متن

برای نکات درباره فیلتر برای متن، آموزش ما [جستجو در جداول](../querying-and-dashboards/questions/searching-tables.html) را بررسی کنید.

### نوع فیلتر توسط متادیتای فیلد کنترل می‌شود

وقتی مدتی از متابیس استفاده کرده‌اید، ممکن است متوجه شوید انواع مختلفی از فیلترها وجود دارد: dropdownها، جعبه‌های جستجو، checkboxها، و سایرین. نوع فیلتر توسط متادیتای فیلد تعیین می‌شود. بیشتر درباره [ویرایش متادیتا](../../../docs/latest/data-modeling/metadata-editing.html) یاد بگیرید.

## محدود کردن داده

می‌توانید داده‌ای که متابیس در یک جدول یا روی یک نمودار نمایش می‌دهد را محدود کنید. به عنوان مثال، اگر در حال شمارش سفارش‌ها بر اساس دسته محصول هستید، می‌توانید به متابیس بگویید فقط 3 دسته برتر بر اساس تعداد سفارش را نمایش دهد به جای نمایش همه آن‌ها.

این با فیلتر کردن متفاوت است — فیلترها به دنبال رکوردهایی هستند که یک شرط را برآورده می‌کنند، اما محدود کردن نتایج فقط تعداد مشخصی از رکوردها را بدون توجه به مقادیر آن‌ها نمایش می‌دهد.

متابیس به طور خودکار نتایج را به 2000 نقطه داده هنگام نمایش یک جدول یا نمودار محدود می‌کند، اما می‌توانید یک محدودیت پایین‌تر تنظیم کنید:

- در query builder، یک بلوک محدودیت ردیف با کلیک روی دکمه خاکستری "Row limit" اضافه کنید. می‌توانید یک بلوک محدودیت ردیف در هر جایی از پرس‌وجوی خود اضافه کنید، اما در نظر داشته باشید که مراحل بعدی بعد از بلوک محدودیت ردیف با داده‌ای که توسط محدودیت ردیف محدود شده است کار می‌کنند.
- هنگام مشاهده یک جدول یا نمودار، روی "Showing X rows" در پایین سمت راست کلیک کنید، محدودیت را ویرایش کنید، و "Enter" را بزنید: ![محدود کردن view جدول](../../images/filter/limit-display.png)

به طور پیش‌فرض، متابیس به شما اجازه نمایش بیشتر از 2000 ردیف را نمی‌دهد تا از overload کردن مرورگر شما جلوگیری کند.

[
      
        

      
      
        
        

      
    ](explore-data.html)
[
      
        
        

      
      
        
        

      
    ](summarize.html)
