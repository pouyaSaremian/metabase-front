---
title: "خلاصه کردن داده"
description: "از خلاصه‌های متابیس برای محاسبه میانگین‌ها، مجموع‌ها، و سایر معیارها استفاده کنید"
redirect_from:
  - /learn/metabase-basics/getting-started/summarize
toc:
  - id: "summarize-data"
    title: "خلاصه کردن داده"
    level: 1
    href: "#summarize-data"
  - id: "introduction"
    title: "مقدمه"
    level: 2
    href: "#introduction"
  - id: "how-to-think-about-summaries"
    title: "نحوه فکر کردن به خلاصه‌ها"
    level: 2
    href: "#how-to-think-about-summaries"
  - id: "summarize-by-a-column"
    title: "خلاصه بر اساس یک ستون"
    level: 2
    href: "#summarize-by-a-column"
  - id: "summarize-a-chart-or-a-table"
    title: "خلاصه یک نمودار یا جدول"
    level: 2
    href: "#summarize-a-chart-or-a-table"
  - id: "how-to-pick-a-chart-for-your-summaries"
    title: "نحوه انتخاب یک نمودار برای خلاصه‌های خود"
    level: 2
    href: "#how-to-pick-a-chart-for-your-summaries"
  - id: "summarize-with-custom-expressions"
    title: "خلاصه با عبارات سفارشی"
    level: 2
    href: "#summarize-with-custom-expressions"
  - id: "summarizing-tips"
    title: "نکات خلاصه کردن"
    level: 2
    href: "#summarizing-tips"
  - id: "group-by-dates-and-times"
    title: "گروه‌بندی بر اساس تاریخ و زمان"
    level: 3
    href: "#group-by-dates-and-times"
  - id: "group-by-numeric-variables"
    title: "گروه‌بندی بر اساس متغیرهای عددی"
    level: 3
    href: "#group-by-numeric-variables"
  - id: "cumulative-summaries"
    title: "خلاصه‌های تجمعی"
    level: 3
    href: "#cumulative-summaries"
  - id: "distinct-values"
    title: "مقادیر یکتا"
    level: 3
    href: "#distinct-values"
  - id: "note-for-sql-experts"
    title: "یادداشت برای متخصصان SQL"
    level: 3
    href: "#note-for-sql-experts"
breadcrumbs:
  - title: "خانه"
    href: "../../index.html"
  - title: "شروع کار"
    href: "../../courses/getting-started.html"
---

# خلاصه کردن داده

از خلاصه‌های متابیس برای محاسبه میانگین‌ها، مجموع‌ها، و سایر معیارها استفاده کنید

## مقدمه

وقتی سؤالی مثل "چند نفر هر روز هفته گذشته اپلیکیشن ما را دانلود کردند؟" داریم، در حال درخواست یک **خلاصه** از داده هستیم. در این راهنما، همه روش‌های افزودن خلاصه به نمودارها و جداول در متابیس را می‌بینید، و برخی نکات و ترفندهای استفاده از خلاصه‌ها در متابیس را یاد می‌گیرید.

فرض می‌کنیم از قبل می‌دانید چگونه [یک سؤال در query builder بپرسید](ask-a-question.html).

## نحوه فکر کردن به خلاصه‌ها

خلاصه کردن به معنای ترکیب داده از چندین رکورد با هم و تولید یک عدد واحد است، مثل "میانگین رتبه‌بندی محصولات". پس نیاز به تعیین دارید:

- **معیار** عددی که برای ترکیب مقدار استفاده می‌شود: به عنوان مثال، count، sum، یا average
- **ستون** که مقادیر آن ترکیب می‌شوند: به عنوان مثال، quantity، price، یا rating
- (اختیاری) **breakoutها**. آن‌ها گروه‌هایی که داده *broken out* (یا *grouped*) **بر اساس** آن‌ها است را تعیین می‌کنند. به عنوان مثال، می‌توانید quantity سفارش را که بر اساس ماه‌ها گروه‌بندی/breakout شده است محاسبه کنید، یا رتبه‌بندی محصول بر اساس دسته‌های محصول گروه‌بندی/breakout شده است، یا هر دو. Breakoutها همچنین اغلب **ابعاد** نامیده می‌شوند.

کلمه "dimension" اینجا suggestive است: برای یک نمودار خط یا میله، اولین breakout به عنوان محور X عمل می‌کند.

به عنوان مثال، در متابیس می‌توانید پیدا کنید:

- میانگین رتبه‌بندی:

![میانگین رتبه‌بندی در query builder](../../images/summarize/avg-rating.png)

- میانگین رتبه‌بندی بر اساس دسته محصول:

![میانگین رتبه‌بندی بر اساس دسته در QB](../../images/summarize/avg-rating-by-category.png)

- میانگین کل سفارش بر اساس دسته محصول برای هر ماه:

![میانگین رتبه‌بندی بر اساس دسته و ماه QB](../../images/summarize/avg-rating-by-category-and-month.png)

در همه این موارد، معیار `Average` است، ستون `Rating` است، اما افزودن breakoutها خلاصه‌ها و نمودارهای مختلف ایجاد می‌کند.

## خلاصه بر اساس یک ستون

هنگام مشاهده یک جدول، می‌توانید روی header ستون کلیک کنید تا یک خلاصه از جدول بر اساس این ستون ایجاد کنید. نوع خلاصه‌هایی که می‌بینید بر اساس نوع ستون متفاوت خواهد بود. به عنوان مثال، می‌توانید میانگین تعداد صندلی‌ها را در جدول Accounts در پایگاه داده نمونه که با هر instance متابیس جدید می‌آید پیدا کنید.

![خلاصه ستون](../../images/summarize/avg-rating.png)

## خلاصه یک نمودار یا جدول

- هنگام مشاهده یک جدول یا نمودار، می‌توانید روی دکمه "Summarize" در گوشه بالا سمت راست کلیک کنید تا خلاصه‌ها را به جدول یا نمودار اضافه کنید. می‌توانید معیارها را در بلوک "Summarize by" اضافه کنید، breakoutها را با کلیک روی نام ستون‌ها در بلوک "Group by" تغییر دهید، و breakoutهای بیشتر را با کلیک روی دکمه + کنار نام ستون‌ها اضافه کنید.
- در query builder می‌توانید یک بلوک Summarize اضافه کنید و معیارها، ستون‌ها، و breakoutها را انتخاب کنید. [پرسیدن یک سؤال در query builder](ask-a-question.html) را برای یک آموزش درباره query builder بررسی کنید!

## نحوه انتخاب یک نمودار برای خلاصه‌های خود

وقتی روی "visualize" روی یک سؤال با خلاصه‌ها کلیک می‌کنید، متابیس به طور خودکار یک نمودار که معتقد است برای نتیجه شما مناسب‌ترین است انتخاب می‌کند. به عنوان مثال، اگر بر اساس یک ستون سری زمانی group کنید، متابیس یک نمودار خطی ایجاد می‌کند، و اگر بر اساس دسته group کنید — یک نمودار میله‌ای. در بیشتر موارد، نموداری که متابیس انتخاب می‌کند بهترین گزینه خواهد بود.

می‌توانید [نوع نمودار](../../../docs/latest/questions/visualizations/visualizing-results.html) را تغییر دهید. نمودارهای متابیس نیازمندی‌هایی روی تعداد و نوع breakoutهایی که می‌توانید در خلاصه‌هایی که به نمودار feed می‌کنند استفاده کنید دارند:

| نوع نمودار | نیازمندی‌های Breakout | Breakoutها برای.. استفاده می‌شوند |
| --- | --- | --- |
| نمودارهای Number، gauge، و progress | یک عدد واحد، بدون breakout | N/A |
| نمودارهای Pie | 1 breakout | رنگ بخش‌ها |
| نمودارهای Waterfall و funnel | 1 breakout | محور X |
| نقشه‌ها | 1 breakout بر اساس یک ستون با داده جغرافیایی | مکان |
| نمودارهای Trend | 1 breakout بر اساس یک ستون با داده سری زمانی | دوره زمانی برای مقایسه |
| نمودارهای Line، bar، row، area، و combo | 1 یا 2 breakout | اولین breakout برای محور X (یا محور Y برای نمودارهای row)، دومین breakout برای رنگ |
| جداول Pivot | حداقل 2 breakout | ردیف‌ها و ستون‌ها |
| نمودارهای Scatter | 1 تا 3 breakout | اولین breakout برای محور X، دومین برای رنگ، و سومین برای اندازه bubble |

به عنوان مثال، قادر به تغییر یک نمودار دایره‌ای به یک نمودار میله‌ای خواهید بود، اما نه به یک جدول pivot.

## خلاصه با عبارات سفارشی

اگر می‌خواهید خلاصه‌هایی بسازید که از توابع پیچیده‌تر median استفاده می‌کنند یا شرایطی مثل "جمع کردن کل‌ها برای سفارش‌ها با tax" را شامل می‌کنند، می‌توانید از [عبارات سفارشی](../../../docs/latest/questions/query-builder/expressions.html) متابیس استفاده کنید.

به عنوان مثال، می‌توانید یک خلاصه مثل این اضافه کنید:

```
SumIf([Subtotal], [Tax] > 0)
```

[آموزش ما درباره عبارات سفارشی](../querying-and-dashboards/questions/custom-expressions.html) را برای یادگیری بیشتر بررسی کنید.

## نکات خلاصه کردن

### گروه‌بندی بر اساس تاریخ و زمان

می‌توانید بر اساس ستون‌های تاریخ و زمان group کنید. متابیس به طور خودکار یک granularity برای group کردن انتخاب می‌کند: به عنوان مثال، برای ستون‌های تاریخ، به طور خودکار بر اساس ماه group می‌کند. می‌توانید granularity را با کلیک روی دوره زمانی تغییر دهید:

![تغییر granularity سری زمانی](../../images/summarize/time-granularity.png)

### گروه‌بندی بر اساس متغیرهای عددی

در متابیس، می‌توانید بر اساس بیشتر از فقط دسته‌ها یا تاریخ‌ها group کنید: همچنین می‌توانید بر اساس متغیرهای عددی، مثل `Price` group کنید. متابیس متغیر عددی را برای شما bin می‌کند، ایجاد "دسته‌ها" برای گروه‌بندی:

![Auto-bin](../../images/summarize/auto-bin.png)

اگر "Count" را به عنوان یک معیار هنگام group کردن بر اساس یک متغیر عددی انتخاب کنید، یک histogram (همچنین به عنوان نمودار توزیع شناخته می‌شود) از این متغیر ایجاد می‌کنید.

![Histogram](../../images/summarize/histogram.png)

### خلاصه‌های تجمعی

متابیس دو نوع خلاصه تجمعی دارد: مجموع تجمعی و count. برای هر رکورد، آن‌ها مجموع یا count همه مقادیر تا این رکورد در جدول را برمی‌گردانند.

این خلاصه‌ها کمی متفاوت از سایر خلاصه‌ها کار می‌کنند چون داده‌ای که برمی‌گردانند بستگی به ترتیب داده در جدول شما دارد.

بگویید یک جدول با مقادیر بر اساس ماه دارید. مجموع تجمعی به این صورت محاسبه می‌شود:

| ماه | مقدار | مجموع تجمعی |
| --- | --- | --- |
| ژوئیه | 5 | 5 |
| نوامبر | 4 | 5+4 = 9 |
| مارس | 2 | 5 + 4 + 2 = 11 |

اما اگر ترتیب ماه‌ها تغییر کند (در حالی که مقادیر همان می‌مانند)، سپس مجموع تجمعی نیز تغییر می‌کند:

| ماه | مقدار | مجموع تجمعی |
| --- | --- | --- |
| مارس | 2 | 2 |
| ژوئیه | 5 | 2 + 5 = 7 |
| نوامبر | 4 | 2 + 5 + 4 = 11 |

### مقادیر یکتا

خلاصه "Distinct values" متابیس *تعداد* مقادیر یکتا در ستون را برمی‌گرداند. اگر می‌خواهید مقادیر یکتا خود را ببینید، می‌توانید هر خلاصه‌ای با یک breakout بر اساس آن ستون ایجاد کنید.

به عنوان مثال، اگر می‌خواهید همه مقادیر یکتا برای دسته‌های محصول را ببینید، می‌توانید count ردیف‌ها را که بر اساس دسته محصول group شده‌اند درخواست کنید. این یک ستون با همه مقادیر دسته یکتا، و یک ستون با تعداد ردیف برای هر دسته به شما می‌دهد (می‌توانید [ستون count را مخفی کنید](../../../docs/latest/questions/visualizations/table.html#rearranging-adding-and-hiding-columns) از نتایج):

![جدول با مقادیر دسته و count به ازای هر دسته](../../images/summarize/count-distinct.png)

### یادداشت برای متخصصان SQL

در SQL، با افزودن یک تابع مثل `COUNT` به یک دستور `SELECT` خلاصه می‌کنید — مشابه نحوه افزودن یک ستون جدید محاسبه شده بر اساس مقادیر ستون‌های دیگر

در متابیس، این دو عملیات متمایز هستند: برای افزودن یک ستون جدید، می‌توانید از یک بلوک Custom column استفاده کنید، اما برای افزودن یک تجمیع، از یک بلوک Summary استفاده می‌کنید.

[
      
        

      
      
        
        

      
    ](filter.html)
[
      
        
        

      
      
        
        

      
    ](custom-columns.html)
