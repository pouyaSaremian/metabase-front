---
title: "نحوه انجام تحلیل قیف"
description: "ردیابی نحوه پیشرفت افراد از طریق یک فرآیند چندمرحله‌ای و جایی که خارج می‌شوند."
redirect_from:
  - /learn/grow-your-data-skills/business-analysis-methods/how-to-do-funnel-analysis
toc:
  - id: "how-to-do-funnel-analysis"
    title: "نحوه انجام تحلیل قیف"
    level: 1
    href: "#how-to-do-funnel-analysis"
  - id: "what-is-funnel-analysis"
    title: "تحلیل قیف چیست؟"
    level: 2
    href: "#what-is-funnel-analysis"
  - id: "the-data-you-need"
    title: "داده‌ای که نیاز دارید"
    level: 2
    href: "#the-data-you-need"
  - id: "how-to-calculate-data-for-a-funnel"
    title: "نحوه محاسبه داده برای یک قیف"
    level: 2
    href: "#how-to-calculate-data-for-a-funnel"
  - id: "building-funnels-in-metabase"
    title: "ساخت قیف‌ها در متابیس"
    level: 2
    href: "#building-funnels-in-metabase"
  - id: "try-it-yourself-sample-csv"
    title: "خودتان امتحان کنید: CSV نمونه"
    level: 2
    href: "#try-it-yourself-sample-csv"
  - id: "bonus-common-data-issues-and-what-to-do-about-them"
    title: "بونوس: مشکلات رایج داده (و چه کاری درباره آن‌ها انجام دهید)"
    level: 2
    href: "#bonus-common-data-issues-and-what-to-do-about-them"
breadcrumbs:
  - title: "خانه"
    href: "../../index.html"
  - title: "روش‌های تحلیل کسب‌وکار"
    href: "index.html"
---

# نحوه انجام تحلیل قیف

ردیابی نحوه پیشرفت افراد از طریق یک فرآیند چندمرحله‌ای و جایی که خارج می‌شوند.

بیشتر افرادی که به سایت شما می‌آیند هرگز ثبت‌نام نمی‌کنند، محصول شما را امتحان نمی‌کنند، یا به تسویه حساب نمی‌رسند. آن‌ها کجا می‌روند؟ چه چیزی باعث شد که ترک کنند؟ و چند نفر به هر مرحله رسیدند؟

در این راهنما، یاد می‌گیرید چگونه آن پاسخ‌ها را با استفاده از تحلیل قیف پیدا کنید، همراه با داده‌ای که نیاز دارید، نحوه انجام تحلیل، و نحوه امتحان آن خودتان با یک مجموعه داده نمونه.

## تحلیل قیف چیست؟

تحلیل قیف نشان می‌دهد که کاربران چگونه از طریق یک سری مراحل حرکت می‌کنند و کجا خارج می‌شوند.
به آن مثل یک قیف واقعی فکر کنید: پهن در بالا و باریک در پایین. افراد زیادی در بالا شروع می‌کنند، اما کمتر در پایین تمام می‌کنند.
این فقط یک نمودار نیست، بلکه راهی برای نقشه‌برداری از سفر کاربران شما مرحله به مرحله است.

![Funnel illustration](../../images/business-analysis-methods/funnel-diagram.png)

**یک مثال ساده:**

فرض کنید می‌خواهید جریان ثبت‌نام خود را تحلیل کنید. چهار مرحله کلیدی را تعریف می‌کنید:

**مرحله 1:** بازدید از صفحه اصلی

**مرحله 2:** ثبت‌نام

**مرحله 3:** شروع آزمایشی

**مرحله 4:** خرید پلن

حالا تصور کنید 1,000 نفر از صفحه اصلی شما بازدید کردند، اما فقط 50 نفر یک پلن خریدند. قیف شما ممکن است اینطور به نظر برسد:

| Step | Users | Conversion from previous | Conversion from total |
| --- | --- | --- | --- |
| Visited homepage | 1,000 | – | – |
| Signed up | 600 | 60% | 60% |
| Started trial | 200 | 33% | 20% |
| Purchased plan | 50 | 25% | 5% |

این تجزیه جایی که کاربران خارج می‌شوند را برجسته می‌کند. در این مورد، ثبت‌نام‌ها قوی هستند، اما تبدیل آزمایشی به پرداخت جایی است که همه چیز از هم می‌پاشد.

**نوبت شما:** 3 تا 5 مرحله کلیدی که کاربران شما قبل از تبدیل از آن‌ها عبور می‌کنند چیست؟
آن‌ها را حتی به طور تقریبی ترسیم کنید. این‌ها مراحل قیف شما خواهند شد.

![Funnel steps](../../images/business-analysis-methods/funnel-steps.png)

## داده‌ای که نیاز دارید

جدول بالا شامل داده تجمیع شده است. برای ساخت قیف خود، به داده خام با سه ویژگی نیاز دارید: **چه کسی** کاری انجام داد، **چه کاری** انجام داد، و **چه زمانی** انجام داد.

این یعنی هر ردیف معمولاً شامل فیلدهایی مثل این‌ها خواهد بود: `user_id` (**چه کسی**)، `event_name` (**چه کاری**)، و `event_time` (**چه زمانی**).

در اینجا نحوه به نظر رسیدن داده تمیز:

| user_id | event_name | event_time |
| --- | --- | --- |
| A | visited_homepage | 2025-07-30 09:00:36 |
| A | signed_up | 2025-07-30 09:05:11 |
| B | visited_homepage | 2025-07-30 10:02:07 |
| B | signed_up | 2025-07-30 10:04:40 |
| B | started_trial | 2025-07-30 10:06:03 |

این نوع لاگ رویداد ستون فقرات تحلیل قیف است. همچنین می‌توانید فیلدهای اضافی مثل `device`، `country`، یا `campaign_source` را برای تقسیم قیف‌ها بر اساس بخش‌های مخاطب شامل کنید.

در بسیاری از موارد، باید **داده خود را تغییر شکل دهید یا مدل کنید به این فرمت** قبل از اینکه بتوانید یک قیف را محاسبه کنید.

## نحوه محاسبه داده برای یک قیف

پس از اینکه داده شما تمیز شد، محاسبه قیف ساده است: تعداد کاربرانی که به هر مرحله می‌رسند را بشمارید، سپس نرخ تبدیل بین مراحل را محاسبه کنید.

بیایید از یک مثال استفاده کنیم:

| user_id | event_name |
| --- | --- |
| A | visited_homepage |
| A | signed_up |
| A | started_trial |
| B | visited_homepage |
| B | signed_up |
| C | visited_homepage |

**مرحله 1 (بازدید از صفحه اصلی):** 3 کاربر — A، B، C

**مرحله 2 (ثبت‌نام):** 2 کاربر — A و B

**مرحله 3 (شروع آزمایشی):** 1 کاربر — A

حالا نرخ تبدیل را محاسبه کنید:

- نرخ تبدیل مرحله به مرحله:
  - صفحه اصلی → ثبت‌نام = 2 ÷ 3 = **66.7%**
  - ثبت‌نام → آزمایشی = 1 ÷ 2 = **50%**
- نرخ تبدیل از شروع:
  - صفحه اصلی → آزمایشی = 1 ÷ 3 = **33.3%**

این ریاضی ساده پایه هر نمودار قیف است، مهم نیست داده شما چقدر پیچیده شود.

در اینجا نحوه به نظر رسیدن آن اعداد به عنوان یک قیف:

![Funnel Diagram](../../images/business-analysis-methods/funnel-example.png)

## ساخت قیف‌ها در متابیس

برای ساخت یک نمودار قیف در متابیس، می‌توانید از query builder یا SQL استفاده کنید.

با شناسایی رویدادهایی که هر مرحله در قیف شما را نشان می‌دهند شروع کنید، چیزهایی مثل `visited_homepage`، `signed_up`، یا `started_trial`.

سپس:

- **رویدادهای خود را خلاصه کنید** با شمارش `user_id`
- **گروه‌بندی بر اساس مرحله قیف،** مثل `event_name` برای شمارش کاربران در هر مرحله
- **تجسم به عنوان یک نمودار قیف.**

برای تنظیمات پیشرفته‌تر (مثل ترکیب مراحل از جداول مختلف یا استفاده از SQL)، [راهنمای نمودارهای قیف](../../../docs/latest/questions/visualizations/funnel.html) ما را بررسی کنید.

## خودتان امتحان کنید: CSV نمونه

آماده هستید تحلیل قیف را در عمل به کار ببرید؟

ما یک مجموعه داده نمونه آماده کرده‌ایم که می‌توانید دانلود کنید و خودتان کاوش کنید.

این CSV شامل داده رویداد کاربر مثل `user_id`، `event_name`، و `event_time` است تا بتوانید با استفاده از مراحلی که یاد گرفتید ساخت قیف‌ها در متابیس را تمرین کنید.

[دانلود مجموعه داده قیف نمونه](../../../files/business-analysis-methods/sample-funnel-dataset.zip)

CSV را به متابیس آپلود کنید و یک نمودار قیف بسازید تا ببینید کاربران کجا خارج می‌شوند و نرخ تبدیل چگونه تغییر می‌کند.

باید به یک قیف برسید که چیزی شبیه این به نظر برسد:

![Sample Funnel Chart](../../images/business-analysis-methods/sample-funnel-chart.png)

> این تمرین به مجموعه داده نمونه از پیش تعریف شده متکی است، اما همچنین می‌توانید داده تمرینی خود را با استفاده از [تولیدکننده مجموعه داده AI](../../../ai-data-generator.html) تولید کنید.

## بونوس: مشکلات رایج داده (و چه کاری درباره آن‌ها انجام دهید)

در اینجا آنچه معمولاً اشتباه می‌شود و نحوه رفع آن:

- **timestampهای گم‌شده:** برای دانستن ترتیب مراحل به آن‌ها نیاز دارید. اگر گم شده‌اند، سعی کنید از تاریخ‌های ایجاد یا تقریب از ID کاربر استفاده کنید.
- **فرمت پهن:** یک ردیف به ازای هر کاربر با چندین ستون (مثل `signup_date`، `trial_date`، `purchase_date`) تحلیل‌ش سخت‌تر است. باید این را به فرمت طولانی با یک رویداد به ازای هر ردیف تغییر شکل دهید.
- **رویدادها در جداول جداگانه:** داده ثبت‌نام شما در یک جدول است، داده آزمایشی در دیگری، خریدها در سومی. آن‌ها را قبل از شروع تحلیل خود به یک جدول رویداد واحد join کنید.
- **نام‌های رویداد ناسازگار:** برخی رویدادها `signed_up` نامیده می‌شوند، بقیه `signup_success`، `signup_done`، یا `signup_win`. یک قرارداد نام‌گذاری انتخاب کنید و به آن پایبند باشید.

[](how-to-read-trends.html)
