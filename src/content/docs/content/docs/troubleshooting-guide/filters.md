---
title: عیب‌یابی فیلترها
---

# عیب‌یابی فیلترها

همیشه ایده خوبی است که با یک بررسی سریع شروع کنید:

1. cache مرورگر خود را پاک کنید.
2. صفحه را refresh کنید.
3. سؤال یا داشبورد خود را در یک پنجره ناشناس باز کنید.

## فیلترهای داشبورد

اگر یک فیلتر داشبورد هیچ نتیجه‌ای یا نتایج اشتباه به شما می‌دهد:

1. روی **آیکون pencil** کلیک کنید تا به حالت ویرایش بروید.
2. روی **آیکون gear** کنار widget فیلتر خود کلیک کنید.
3. مطمئن شوید که یک ستون برای فیلتر خود زیر **Column to filter on** انتخاب کرده‌اید.
4. اگر نمی‌توانید **Column to filter on** صحیح را پیدا کنید، یا وقتی فیلتر را اعمال می‌کنید "No Results" دریافت می‌کنید:
   - از حالت ویرایش خارج شوید و روی یک کارت داشبورد کلیک کنید تا به _سؤال اصلی_ بروید.
   - مراحل عیب‌یابی زیر [فیلترهای سؤال](#question-filters) را دنبال کنید.

## فیلترهای سؤال

اگر یک فیلتر سؤال هیچ نتیجه‌ای یا نتایج اشتباه به شما می‌دهد:

1. مطمئن شوید که سؤال شامل ستونی است که می‌خواهید روی آن فیلتر کنید.
2. بررسی کنید که ستون شامل مقدار(های) فیلترشده شما است. می‌توانید این را با:
   - مرتب‌سازی ستون‌های عدد یا تاریخ،
   - ایجاد یک فیلتر "contains" برای ستون‌های رشته، یا
   - پرسیدن از ادمین پایگاه داده خود انجام دهید.
3. از ادمین متابیس خود بخواهید به شما کمک کند بررسی کند که آیا:
   - متابیس [به‌روز است](../databases/sync-scan.md) با پایگاه داده شما،
   - ستون [قابل مشاهده است](../data-modeling/metadata-editing.md#field-visibility) در متابیس،
   - شما مجوزهای [داده صحیح](../permissions/data.md) برای دسترسی به ستون دارید.

### موارد خاص

اگر در فیلتر کردن روی یک مشکل دارید:

- [ستون سفارشی](../questions/query-builder/editor.md#custom-columns): بررسی کنید که expression سفارشی طبق انتظار کار می‌کند. به‌عنوان مثال، expression سفارشی شما ممکن است مقادیر خالی را وقتی انتظار اعداد دارید برگرداند.
- [فیلتر فیلد SQL](../questions/native-editor/field-filters.md): مطمئن شوید که از [syntax فیلتر فیلد صحیح](../questions/native-editor/field-filters.md#field-filter-syntax) استفاده می‌کنید، سپس [عیب‌یابی متغیرهای SQL](./sql.md#sql-variables-and-field-filters) را ببینید.

**توضیح**

وقتی برای اولین بار یک فیلتر را تنظیم می‌کنیم، باید فیلتر را به یک ستون لینک کنیم. اگر فرضیات اشتباه دربارهٔ مقادیر یا نوع داده یک ستون داشته باشیم، فیلتر اصلاً کار نمی‌کند. اگر یک ستون در سمت پایگاه داده تغییر کند، فیلتر ممکن است ناگهان کار را متوقف کند.

به‌عنوان مثال، بیایید بگوییم می‌خواهیم یک فیلتر به نام "Select Product ID" لینک شده به یک ستون به نام **Product ID** ایجاد کنیم. فیلتر کار نمی‌کند اگر هر یک از این چیزها اتفاق بیفتد:

- سؤال ما شامل ستون **Product ID** نیست.
- عدد 4 را در فیلتر "Select Product ID" تایپ می‌کنیم، وقتی ستون **Product ID** فقط شامل مقادیر 1، 2، و 3 است.
- **Product ID** در پایگاه داده یا صفحه Table Metadata به چیز دیگری تغییر نام داده شده است.
- **Product ID** از پایگاه داده حذف شده است، یا در صفحه Table Metadata مخفی شده است.
- **Product ID** یک ستون سفارشی است که طبق انتظار کار نمی‌کند.
- مجوزهای داده برای دسترسی به ستون **Product ID** نداریم.
- "Select Product ID" را یک فیلتر عددی کرده‌ایم، اما **Product ID** یک ستون رشته است (بخش زیر را ببینید).

## فیلترهای زمان، ID، و عدد

برای debug کردن فیلترهای داشبورد و سؤال که شامل timestampها، UUIDها، یا داده عددی هستند:

1. [نوع داده](https://www.metabase.com/learn/grow-your-data-skills/data-fundamentals/data-types-overview) ستونی که می‌خواهید روی آن فیلتر کنید را پیدا کنید. می‌توانید این اطلاعات را از:
   - [مرجع داده](../exploration-and-organization/data-model-reference.md)،
   - صفحه [Table Metadata](../data-modeling/metadata-editing.md) (فقط ادمین‌ها)، یا
   - مستقیماً از پایگاه داده پیدا کنید.
2. ستون را به یک نوع داده که با [نوع فیلتر مورد نظر](../questions/query-builder/filters.md#filter-types) تطبیق دارد cast کنید. می‌توانید:
   - [رشته‌ها یا اعداد را به تاریخ cast کنید](../data-modeling/metadata-editing.md#cast-to-a-specific-data-type) از صفحه Table Metadata، یا
   - نوع داده ستون را در پایگاه داده خود تغییر دهید، و [schema پایگاه داده را دوباره همگام‌سازی کنید](../databases/sync-scan.md#manually-syncing-tables-and-columns).

اگر یک ادمین متابیس نیستید، ممکن است نیاز داشته باشید از ادمین خود بخواهید در برخی از این مراحل به شما کمک کند.

**توضیح**

متابیس نیاز دارد نوع داده یک ستون را بداند تا یک انتخاب curate شده از انواع فیلتر را به شما ارائه دهد. گاهی اوقات این ستون‌ها mistype شده‌اند---اگر یک ستون اعداد شما را به‌عنوان رشته ذخیره می‌کند، متابیس فقط فیلترهای متن یا category (با گزینه‌هایی مثل "is"، "is not") را به جای فیلترهای عدد (با گزینه‌هایی مثل "greater than"، "less than") به شما نشان می‌دهد.

Timestampها، به‌طور خاص، ریشه همه شر هستند، بنابراین لطفاً با ادمین متابیس خود (یا خودتان!) صبور باشید هنگام تلاش برای درست کردن نوع داده.

## فیلترهای فیلد در BigQuery و Oracle

اگر هنگام استفاده از فیلترهای فیلد با BigQuery یا Oracle خطایی دریافت می‌کنید، مطمئن شوید که از syntax صحیح برای بند `FROM` استفاده می‌کنید. به [فیلترهای فیلد در BigQuery و Oracle](../questions/native-editor/field-filters.md#field-filters-in-bigquery-and-oracle) مراجعه کنید.

## مقادیر فیلتر گم شده یا اشتباه

اگر منوی dropdown فیلتر شما مقادیر اشتباه برای یک ستون نمایش می‌دهد:

1. به **Admin settings** > **Table Metadata** بروید.
2. پایگاه داده، جدول، و ستون خود را پیدا کنید.
3. روی **آیکون gear** در سمت راست جعبه تنظیمات ستون کلیک کنید.
4. به **Cached field values** اسکرول کنید.
5. اختیاری: روی **Discard cached field values** کلیک کنید.
6. روی **Re-scan this field** کلیک کنید.

**توضیح**

[scanهای](../databases/sync-scan.md#how-database-scans-work) متابیس مقادیر برای منوهای dropdown فیلتر شما را با کوئری کردن و cache کردن اولین 1,000 رکورد متمایز از یک جدول دریافت می‌کنند. ممکن است مقادیر فیلتر قدیمی ببینید اگر جداول شما بیشتر از [برنامه scan](../databases/sync-scan.md#scanning-for-filter-values) به‌روزرسانی می‌شوند.

## موضوعات مرتبط

- [عیب‌یابی فیلترهای مرتبط](./linked-filters.md)
- [عیب‌یابی متغیرهای SQL و فیلترهای فیلد](./sql.md#sql-variables-and-field-filters)
- [عیب‌یابی تاریخ‌ها و زمان‌ها](./timezones.md)
- [ایجاد فیلترهای dropdown](../data-modeling/metadata-editing.md#changing-a-search-box-filter-to-a-dropdown-filter)
- [ایجاد فیلترهای SQL](../questions/native-editor/sql-parameters.md)

## آیا هنوز گیر کرده‌اید؟

اگر نمی‌توانید مشکل خود را با استفاده از راهنماهای عیب‌یابی حل کنید:

- در [انجمن متابیس](https://discourse.metabase.com/) جستجو کنید یا بپرسید.
- برای [باگ‌ها یا محدودیت‌های شناخته شده](./known-issues.md) جستجو کنید.
