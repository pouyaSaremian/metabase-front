---
title: SDK تجزیه و تحلیل تعبیه‌شده - شروع سریع CLI
---

# SDK تجزیه و تحلیل تعبیه‌شده - شروع سریع CLI

{% include plans-blockquote.html feature="Embedded analytics SDK" sdk=true convert_pro_link_to_embbedding=true %}

یک دستور واحد برای راه‌اندازی یک متابیس و کمک به شما برای دریافت یک داشبورد جاسازی شده در برنامه خود ساخته‌ایم. این راه‌اندازی با کلیدهای API در تولید کار نمی‌کند؛ فقط برای این است که به سرعت SDK را روی ماشین محلی خود امتحان کنید. راه‌اندازی تولید نیاز به مجوز Pro/Enterprise و SSO با JWT دارد.

## پیش‌نیازها

- Docker (باید در حال اجرا روی ماشین شما باشد)
- [Node.js 20.x LTS](https://nodejs.org/en) یا بالاتر.
- مجوز (اختیاری - فقط اگر می‌خواهید چندمستأجری را امتحان کنید).
- پایگاه داده (می‌توانید به پایگاه داده برنامه خود متصل شوید).

نیازی به متابیس در حال اجرا ندارید؛ ابزار یک متابیس را برای شما در Docker راه‌اندازی می‌کند.

## دستور شروع سریع CLI

به برنامه React خود بروید و اجرا کنید:

```sh
npx @metabase/embedding-sdk-react@latest start
```

ابزار CLI شما را در راه‌اندازی راهنمایی می‌کند. تعداد منصفانه‌ای از قطعات برای کنار هم قرار دادن وجود دارد، بنابراین در اینجا نمای کلی از آنچه دستور انجام می‌دهد آمده است:

- [بررسی پیش‌نیاز](#prereq-check)
- [اتصال پایگاه داده (اختیاری)](#database-connection-optional)
- [راه‌اندازی متابیس](#metabase-setup)
- [راه‌اندازی مجوزها با چندمستأجری (اختیاری)](#permissions-setup-with-multi-tenancy-optional)
- [راه‌اندازی اجزای React](#react-components-setup)
- [ببینید: متابیس در برنامه شما جاسازی شده است](#behold-metabase-is-embedded-in-your-app)

## بررسی پیش‌نیاز

ابزار موارد زیر را بررسی می‌کند:

- دستور را در دایرکتوری سطح بالا برنامه React خود اجرا کرده‌اید.
- SDK را نصب کرده‌اید (اگر نصب نکرده‌اید، CLI SDK را برای شما نصب می‌کند و آن را به عنوان یک وابستگی در `package.json` شما اضافه می‌کند).
- Docker در حال اجرا روی ماشین شما است.

## اتصال پایگاه داده (اختیاری)

ابزار می‌پرسد که آیا پایگاه داده‌ای برای اتصال دارید. از کلیدهای فلش برای انتخاب Yes یا No استفاده کنید. ابزار از این پایگاه داده برای تولید یک داشبورد جاسازی شده استفاده می‌کند.

اگر پاسخ no بدهید، اسکریپت از پایگاه داده نمونه که با متابیس عرضه می‌شود برای ایجاد یک داشبورد برای جاسازی استفاده می‌کند.

اگر Yes را انتخاب کنید، ابزار شما را برای اتصال به یک پایگاه داده راهنمایی می‌کند. موتور پایگاه داده خود را انتخاب کنید. نیاز دارید host، port، username و password پایگاه داده را ارائه دهید. ابزار به پایگاه داده متصل می‌شود و شما را برای انتخاب جداول از پایگاه داده خود برای جاسازی راهنمایی می‌کند. 1-3 جدول انتخاب کنید. اگر می‌خواهید چندمستأجری را در عمل ببینید، جدولی با user ID در آن انتخاب کنید. متابیس این جداول را X-ray می‌کند تا یک داشبورد برای جاسازی ایجاد کند.

## راه‌اندازی متابیس

ابزار از شما یک آدرس ایمیل برای ایجاد اولین حساب مدیر در متابیس می‌پرسد. نیازی نیست یک آدرس ایمیل واقعی باشد (ابزار یک سرور SMTP راه‌اندازی نمی‌کند)؛ آدرس ایمیل فقط برای ورود به متابیسی که ابزار راه‌اندازی می‌کند لازم است.

بعد، ابزار یک متابیس را در Docker راه‌اندازی می‌کند. این کمی زمان می‌برد. برای دیدن وضعیت کانتینر Docker، از دستور `docker ps` استفاده کنید. یا از زمان برای تأمل در مورد انتخاب‌های خوبی که اخیراً انجام داده‌اید استفاده کنید.

پس از راه‌اندازی و اجرای متابیس، ابزار یک کاربر مدیر با ایمیل ارائه شده ایجاد می‌کند و یک [کلید API](../../people-and-groups/api-keys.md) برای آن متابیس تولید می‌کند.

سپس ابزار شما را برای انتخاب 1-3 جدول برای جاسازی راهنمایی می‌کند. می‌توانید <space> را برای انتخاب، <a> برای toggle همه، <i> برای معکوس کردن انتخاب، و <enter> برای ادامه فشار دهید.

## راه‌اندازی مجوزها با چندمستأجری (اختیاری)

اگر مجوز Pro/EE دارید، ابزار می‌تواند مجوزها را راه‌اندازی کند. برای دریافت مجوز، برای [آزمایش رایگان متابیس Pro self-hosted](https://www.metabase.com/pricing/) ثبت‌نام کنید.

اگر انتخاب کردید که چندمستأجری را راه‌اندازی کنید و به پایگاه داده خود متصل شدید، ابزار از شما ستونی که می‌خواهید برای محدود کردن جدول استفاده کنید (مثلاً، یک ستون user ID) می‌پرسد. متابیس [امنیت سطح ردیف](../../permissions/row-and-column-security.md) را برای آن جدول بر اساس مقادیر در آن ستون راه‌اندازی می‌کند.

ابزار همچنین یک سرور Express mock برای مدیریت JWTها راه‌اندازی می‌کند. ابزار می‌پرسد که کد سرور را کجا ذخیره کند (پیش‌فرض: `./mock-server`). وابستگی‌های سرور را با `npm install` نصب می‌کند.

نیاز دارید سرور mock را در یک جلسه ترمینال دیگر شروع کنید. به دایرکتوری سرور mock بروید و اجرا کنید:

```sh
npm run start
```

## راه‌اندازی اجزای React

بعد، ابزار فایل‌های اجزای نمونه React را تولید می‌کند. به‌طور پیش‌فرض، ابزار آن‌ها را در `./src/components/metabase` در برنامه React شما ذخیره می‌کند، اگرچه ابزار شما را برای ذخیره آن‌ها در یک دایرکتوری متفاوت اگر می‌خواهید (مثلاً، `./src/analytics`) راهنمایی می‌کند.
چند جزء دمو برای شما تولید می‌کند تا تم‌دهی و تعویض کاربر را امتحان کنید:

- `AnalyticsDashboard` - یک جزء داشبورد که یک داشبورد متابیس را جاسازی می‌کند.
- `AnalyticsPage` - یک صفحه که یک داشبورد را با یک provider wrapped جاسازی می‌کند. در یک برنامه واقعی، باید `MetabaseProvider` را به صورت جداگانه به جزء root `App` برنامه خود (یا جایی که providerهای دیگر خود را اضافه می‌کردید) اضافه کنید.
- `ThemeSwitcher` - تعویض بین تم‌های روشن و تاریک.
- `UserSwitcher` - تعویض بین کاربران جعلی.
- `AnalyticsProvider` - یک provider که state دمو را برای اجزای نمونه theme switcher و user switcher اضافه می‌کند.
- `EmbeddingProvider` - یک provider که `MetabaseProvider` را با تم‌های دمو و پیکربندی auth wrap می‌کند.

می‌توانید این فایل‌ها را پس از بازی با ابزار حذف کنید و آماده راه‌اندازی تم‌دهی و مدیریت کاربر خود شوید.

## افزودن اجزای Metabase/React به برنامه خود

نیاز دارید اجزای Metabase/React را به برنامه خود اضافه کنید. یک import به برنامه کلاینت خود اضافه کنید، مانند این:

```jsx
{% include_file "{{ dirname }}/snippets/quickstart-cli/example.tsx" snippet="imports" %}
```

مطمئن شوید مسیر `from` معتبر است (بسته به برنامه شما، ممکن است نیاز داشته باشید اجزا را به یک دایرکتوری جدید منتقل کنید).

سپس نیاز دارید جزء `<AnalyticsPage />` را به یک صفحه در برنامه خود اضافه کنید. چیزی شبیه به این:

```jsx
{% include_file "{{ dirname }}/snippets/quickstart-cli/example.tsx" snippet="example" %}
```

## ببینید: متابیس در برنامه شما جاسازی شده است

برنامه خود را شروع کنید و صفحه‌ای که جزء `<AnalyticsPage />` را اضافه کردید بازدید کنید. باید یک داشبورد جاسازی شده را ببینید.

همچنین می‌توانید متابیسی که ابزار راه‌اندازی کرد را بررسی کنید. متابیس باید در `http://localhost:3366` در حال اجرا باشد. می‌توانید اطلاعات ورود خود را در `METABASE_LOGIN.json` پیدا کنید.

## مطالعه بیشتر

- [شروع سریع با برنامه نمونه و JWT](./quickstart.md)
