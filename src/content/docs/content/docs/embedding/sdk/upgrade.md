---
title: ارتقای متابیس و SDK تجزیه و تحلیل تعبیه‌شده
summary: نحوه ارتقای نسخه‌های متابیس و SDK تجزیه و تحلیل تعبیه‌شده، تست تغییرات، و بررسی تغییرات breaking که ممکن است برنامه شما را تحت تأثیر قرار دهند.
---

# ارتقای متابیس و SDK تجزیه و تحلیل تعبیه‌شده

در اینجا یک نمای کلی اساسی از مراحلی که می‌خواهید هنگام ارتقای SDK انجام دهید آمده است.

## ۱. خواندن پست انتشار و changelog برای متابیس و SDK تجزیه و تحلیل تعبیه‌شده

- [پست‌های انتشار](https://www.metabase.com/releases) نمای خوبی از آنچه در هر انتشار است ارائه می‌دهند و تغییرات breaking را (که نادر هستند) برجسته می‌کنند.
- [Changelogهای متابیس + تجزیه و تحلیل تعبیه‌شده](https://www.metabase.com/changelog) تغییرات متابیس و تجزیه و تحلیل تعبیه‌شده را فهرست می‌کنند.
- [Changelog بسته SDK تجزیه و تحلیل تعبیه‌شده](https://github.com/metabase/metabase/blob/release-x.56.x/enterprise/frontend/src/embedding-sdk-bundle/CHANGELOG.md) تغییرات خاص به بسته سبک `@metabase/embedding-sdk-react` SDK را فهرست می‌کند.

برای هر تغییر مرتبط، به ویژه deprecationها یا تغییرات breaking که نیاز به به‌روزرسانی کد برنامه شما دارند بررسی کنید. اگر تغییرات deprecation وجود داشته باشد، مستنداتی خواهیم داشت که شما را در مورد تغییراتی که نیاز دارید انجام دهید و چرا راهنمایی می‌کند.

## ۲. تست ارتقا

هنگام ارتقا به یک نسخه اصلی جدید، می‌خواهید هم متابیس و هم نسخه SDK را به صورت موازی ارتقا دهید، زیرا داشتن نسخه‌های اصلی متابیس و SDK ناهمگام می‌تواند باعث خطا شود.

### راه‌اندازی نسخه جدید متابیس برای تست

می‌توانید این کار را به صورت محلی یا در یک نمونه dev انجام دهید. اگر راه‌اندازی تست شما شامل تعداد زیادی حساب کاربر تست است، دریافت یک [نمونه توسعه](../../installation-and-operation/development-instance.md) می‌تواند مقرون به صرفه‌تر باشد.

[ارتقای متابیس](../../installation-and-operation/upgrading-metabase.md) را ببینید.

### ارتقای SDK با npm یا Yarn

می‌خواهید ابتدا تغییرات را به صورت محلی تست کنید، زیرا ممکن است تغییرات breaking وجود داشته باشد که نیاز به ارتقای کد برنامه شما دارد.

یک branch جدید در برنامه خود checkout کنید و نسخه stable بعدی را نصب کنید، یا با npm یا Yarn:

از طریق npm:

```bash
npm install @metabase/embedding-sdk-react@{next-major-version-number}-stable
```

به عنوان مثال، اگر به نسخه 56 SDK ارتقا می‌دادید:

```bash
npm install @metabase/embedding-sdk-react@56-stable
```

اگر از Yarn استفاده می‌کنید:

```bash
yarn add @metabase/embedding-sdk-react@{next-major-version-number}-stable
```

بیشتر در مورد [نسخه‌های SDK](./version.md) ببینید.

### اگر deprecationها یا تغییرات breaking وجود دارند، تغییرات لازم را در کد برنامه انجام دهید

Deprecationها یا تغییرات breaking نادر هستند، اما اگر نیاز به ایجاد تغییرات دارید، در یادداشت‌های انتشار برای نسخه اصلی جدید ذکر می‌کنیم و مستنداتی داریم که شما را در مورد تغییرات راهنمایی می‌کند.

تست‌ها را برای هر تغییر کد برنامه که انجام می‌دهید به‌روزرسانی یا اضافه کنید.

در بیشتر موارد، یک تغییر deprecation شده در انتشار بعد از deprecation آن به یک تغییر breaking تبدیل می‌شود.
به عنوان مثال، اگر قصد داریم یک prop را از یک جزء React SDK حذف کنیم، ابتدا آن را به عنوان **deprecation** علامت می‌زنیم، و سپس آن را در انتشار بعدی حذف می‌کنیم.

### استقرار در محیط staging

قبل از استقرار برنامه خود در محیط staging، مطمئن شوید که برنامه را به صورت محلی تست کرده‌اید (دستی، و همچنین اجرای هر تست خودکار).

اگر همه چیز با تست‌های محلی شما خوب پیش رفت، در محیط staging استقرار دهید. بررسی کنید که جاسازی‌های متابیس در برنامه staging شما همچنان همانطور که انتظار می‌رود کار می‌کنند، و هر تست دیگری که معمولاً با برنامه خود در مورد تجزیه و تحلیل جاسازی شده انجام می‌دهید را انجام دهید.

## ۳. استقرار در تولید

اگر همه چیز در staging کار می‌کند، آماده استقرار در تولید هستید.

مطمئن شوید که تغییرات برنامه و ارتقای متابیس خود را به صورت موازی استقرار دهید تا نسخه SDK و نسخه متابیس همگام بمانند.

### Caching ممکن است ارتقا را تا یک دقیقه به تأخیر بیندازد

این عمدی است. پس از ارتقا، متابیس ممکن است همچنان نسخه قبلی، cached شده SDK Bundle را تا 60 ثانیه سرو کند (`Cache-Control: public, max-age=60`). این پنجره cache کوتاه کمک می‌کند عملکرد سریع را تضمین کند در حالی که همچنان به به‌روزرسانی‌ها اجازه می‌دهد به سرعت منتشر شوند.

اگر تغییرات خود را فوراً نمی‌بینید، cache مرورگر خود را پاک کنید یا فقط یک دقیقه صبر کنید. پس از آن، بسته SDK SDK Bundle تازه استقرار شده را بارگذاری می‌کند.

### اگر نمونه شما در Metabase Cloud pinned شده است، نیاز دارید یک ارتقا درخواست کنید

اگر در Metabase Cloud هستید و [نسخه متابیس خود را pinned کرده‌اید](./version.md#you-can-pin-instances-to-a-version-on-metabase-cloud)، نیاز دارید یک ارتقا را با [تماس با پشتیبانی](https://www.metabase.com/help-premium) درخواست کنید.

ما با شما هماهنگ می‌کنیم تا نمونه شما زمانی که تغییرات را به برنامه خود استقرار می‌دهید ارتقا یابد.
