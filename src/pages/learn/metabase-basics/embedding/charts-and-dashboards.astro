---
import Base from "../../../../layouts/Base.astro";
const title = "Publishing data visualizations to the web | Metabase Learn";
const description = "Share standalone charts and dashboards with the good people of the internet.";
const seo = {"title":"Publishing data visualizations to the web | Metabase Learn","description":"Share standalone charts and dashboards with the good people of the internet.","canonical":"/learn/metabase-basics/embedding/charts-and-dashboards","og":{"title":"Publishing data visualizations to the web | Metabase Learn","description":"Share standalone charts and dashboards with the good people of the internet.","image":"https://www.metabase.com/learn/images/embedding-charts-and-dashboards/embed-code.png","url":"https://www.metabase.com/learn/metabase-basics/embedding/charts-and-dashboards","type":"article","site_name":"Metabase | Business Intelligence, Dashboards, and Data Visualization"},"twitter":{"site":"@metabase","title":"Publishing data visualizations to the web | Metabase Learn","description":"Share standalone charts and dashboards with the good people of the internet.","card":"summary_large_image","image":"https://www.metabase.com/learn/images/embedding-charts-and-dashboards/embed-code.png","creator":"The Metabase Team"}};
---

<Base {title} {description} {seo}>
<div>
      


















<div class="bootstrap">
  <div class="learn blog-post MB-Page">
    

<div id="main-navigation-content" class="learn-left-sidebar scrollable">
  <div class="docs-learn-toggler">
  <div class="hover-highlight"></div>
  <a href="/docs/latest/">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M19.25 5.75C19.25 5.19772 18.8023 4.75 18.25 4.75H14C12.8954 4.75 12 5.64543 12 6.75V19.25L12.8284 18.4216C13.5786 17.6714 14.596 17.25 15.6569 17.25H18.25C18.8023 17.25 19.25 16.8023 19.25 16.25V5.75Z" stroke="#8D93A5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M4.75 5.75C4.75 5.19772 5.19772 4.75 5.75 4.75H10C11.1046 4.75 12 5.64543 12 6.75V19.25L11.1716 18.4216C10.4214 17.6714 9.40401 17.25 8.34315 17.25H5.75C5.19772 17.25 4.75 16.8023 4.75 16.25V5.75Z" stroke="#8D93A5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

    <span>Docs</span>
  </a>

  
  <a href="/learn/" class="active">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 14.0929L20 9.42144L12 4.75L4 9.42144L12 14.0929ZM12 14.0929L17.4756 10.8957C18.196 12.8186 18.4005 14.4134 18.0667 16.45C15.8121 16.68 13.6864 17.6604 12 19.25C10.3138 17.6606 8.18852 16.6802 5.93422 16.45C5.60018 14.4134 5.80465 12.8185 6.52533 10.8957L12 14.0929Z" stroke="#509EE3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
<path d="M12.5 9.5C12.5 9.7761 12.2761 10 12 10C11.7239 10 11.5 9.7761 11.5 9.5C11.5 9.2239 11.7239 9 12 9C12.2761 9 12.5 9.2239 12.5 9.5Z" stroke="#509EE3" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

    <span>Learn</span>
  </a>
</div>



  


  <h5>Courses</h5>

  <ul>
    
      

      

      

      

      <li class="">
        <a href="/learn/metabase-basics/getting-started/index-2" class="">
        Getting started

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/overview/concepts" class="">
                  Metabase concepts

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/find-data" class="">
                  Find data

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/ask-a-question" class="">
                  Ask a question

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/create-dashboards" class="">
                  Create a dashboard

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/explore-data" class="">
                  Explore dashboards

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/filter" class="">
                  Filter and limit data

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/summarize" class="">
                  Summarize data

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/custom-columns" class="">
                  Add custom columns

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/dashboard-filters" class="">
                  Use dashboard filters

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/getting-started/models" class="">
                  Build models

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
  </ul>

  <h5>Metabase Basics</h5>

  <ul>
    
      

      

      

      

      <li class="">
        <a href="/learn/metabase-basics/overview/" class="">
        Metabase overview

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/overview/tour-of-metabase" class="">
                  A tour of Metabase

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/overview/next-steps" class="">
                  Advanced Metabase features for data analysts

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/overview/beyond-bi" class="">
                  Beyond BI: other problems you can solve with Metabase

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/metabase-basics/querying-and-dashboards/" class="">
        Querying and dashboards

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/querying-and-dashboards/questions" class="">
                  Asking questions

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/questions/drill-through" class="">
                          Create interactive charts
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/questions/custom-expressions" class="">
                          Custom expressions
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/questions/joins-in-metabase" class="">
                          Joins in Metabase
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/questions/cross-db-joins" class="">
                          Combining data from different databases
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/questions/multi-aggregation" class="">
                          Multi-level aggregation
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/questions/searching-tables" class="">
                          Searching in tables
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/questions/formatting" class="">
                          Cleaning and formatting text
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/querying-and-dashboards/visualization" class="">
                  Visualizing data

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/visualization/chart-guide" class="">
                          Which chart should you use?
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/visualization/line-charts" class="">
                          Guide to line charts
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/visualization/bar-charts" class="">
                          Master the bar chart
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/visualization/histograms" class="">
                          Histograms
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/querying-and-dashboards/dashboards" class="">
                  Building dashboards

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/dashboards/bi-dashboard-best-practices" class="">
                          BI dashboard best practices
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/dashboards/linking-filters" class="">
                          Linking filters in dashboards
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/dashboards/custom-destinations" class="">
                          Custom click destinations on dashboards
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/dashboards/cross-filtering" class="">
                          Cross-filtering: using a chart to update a dashboard filter
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/dashboards/markdown" class="">
                          Markdown in dashboards
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/dashboards/build-a-record-lookup-tool" class="">
                          Build a record lookup tool with Metabase
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/querying-and-dashboards/sql-in-metabase/" class="">
                  SQL in Metabase

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/sql-in-metabase/sql-variables" class="">
                          Create filters using SQL variables
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/sql-in-metabase/field-filters" class="">
                          Field filters for SQL questions
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/sql-in-metabase/snippets" class="">
                          Snippets: reuse and share code
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/sql-in-metabase/organizing-sql" class="">
                          Snippets vs. Saved Questions vs. Views
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/sql-in-metabase/filters" class="">
                          Adding filters to dashboards with SQL questions
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/sql-in-metabase/sql-tricks-ordering-charts" class="">
                          SQL trick: ordering bars in a chart
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/querying-and-dashboards/time-series" class="">
                  Time series analysis

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/time-series/start" class="">
                          Overview of time series analysis
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/time-series/time-series-comparisons" class="">
                          Period-over-period comparisons for time series
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/querying-and-dashboards/time-series/compare-times" class="">
                          Best practices for visualizing time series
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/querying-and-dashboards/data-browser" class="">
                  Data reference

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/querying-and-dashboards/actions-crud" class="">
                  Build a basic CRUD app with actions

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/querying-and-dashboards/mongodb" class="">
                  Using Metabase with MongoDB

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/metabase-basics/administration/" class="">
        Administration

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/administration/administration-and-operation/" class="">
                  Administration and operation

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/guide" class="">
                          Admin overview
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/metabase-and-your-db" class="">
                          How Metabase works with your database
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/metabase-in-production" class="">
                          How to run Metabase in production
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/managing-people" class="">
                          Managing people in Metabase
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/guide-to-sharing-data" class="">
                          Guide to sharing data
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/same-page" class="">
                          Keeping your analytics organized
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/multi-env" class="">
                          Multiple environments
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/serialization" class="">
                          Serialization: preloading dashboards in a new Metabase instance
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/git-based-workflow" class="">
                          Setting up a git-based workflow
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/making-dashboards-faster" class="">
                          Making dashboards faster
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/metabase-at-scale" class="">
                          Metabase at scale
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/data-engineering" class="">
                          Metabase for data engineers
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/administration-and-operation/metabase-api" class="">
                          Working with the Metabase API
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/administration/permissions/" class="">
                  Permissions

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/permissions/strategy" class="">
                          Permissions strategies
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/permissions/data-permissions" class="">
                          Guide to data permissions
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/permissions/collection-permissions" class="">
                          Working with collection permissions
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/permissions/row-permissions" class="">
                          Row-level permissions
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/permissions/column-permissions" class="">
                          Column-level permissions
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/permissions/row-and-column-security-use-cases" class="">
                          Restricting the data that people can see in Metabase
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/permissions/keep-tabs-on-your-data" class="">
                          How to keep tabs on your data
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/metabase-basics/administration/permissions/ldap-auth-access-control" class="">
                          Using LDAP for authentication and access control
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        
      </li>
    
      

      

      

      

      <li class="expanded">
        <a href="/learn/metabase-basics/embedding" class="">
        Embedding

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/embedding/overview" class="">
                  Strategies for delivering customer-facing analytics

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/embedding/charts-and-dashboards" class="selected">
                  Publishing data visualizations to the web

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/embedding/external-sharing" class="">
                  A Metabase mystery

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/metabase-basics/embedding/multi-tenant-self-service-analytics" class="">
                  Multi-tenant self-service analytics

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
  </ul>

  <h5>Grow your data skills</h5>

  <ul>
    
      

      

      

      

      <li class="">
        <a href="/learn/sql/" class="">
        Learn SQL

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/sql/getting-started/" class="">
                  Get started with SQL

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/sql/getting-started/introduction" class="">
                          Introduction
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/getting-started/querying-tables" class="">
                          SQL querying tables
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/sql/filtering/" class="">
                  SQL filtering

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/sql/filtering/by-text" class="">
                          SQL filtering by text
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/filtering/by-date" class="">
                          SQL filtering by date
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/sql/combining-tables/" class="">
                  Combining tables with SQL

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/sql/working-with-sql/sql-joins" class="">
                          Combining tables with joins
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/working-with-sql/sql-join-types" class="">
                          SQL join types
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/combining-tables/sql-union" class="">
                          Combining tables with SQL UNION
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/sql/working-with-sql/" class="">
                  Working with SQL

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/sql/working-with-sql/sql-best-practices" class="">
                          Best practices for writing SQL queries
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/working-with-sql/sql-cte" class="">
                          Common Table Expressions (CTEs) in SQL
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/working-with-sql/dates-in-sql" class="">
                          Working with dates in SQL
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/working-with-sql/ltv-with-metabase" class="">
                          How to calculate customer lifetime value (LTV) with SQL
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/working-with-sql/syntax-reference" class="">
                          SQL syntax reference
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/sql/debugging-sql/" class="">
                  Debugging SQL

                  
                    <div>
                      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

                    </div>
                  
                </a>
                
                  <ul>
                    
                      
                      <li>
                        <a href="/learn/sql/debugging-sql/sql-syntax" class="">
                          Debugging SQL syntax errors
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/debugging-sql/sql-logic" class="">
                          Debugging SQL query logic
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/debugging-sql/sql-logic-duplicated-data" class="">
                          Debugging duplicated data in SQL query results
                        </a>
                      </li>
                    
                      
                      <li>
                        <a href="/learn/sql/debugging-sql/sql-logic-missing-data" class="">
                          Debugging missing data in SQL query results
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/grow-your-data-skills/data-fundamentals/" class="">
        Database fundamentals

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-fundamentals/database-basics" class="">
                  A short overview of databases

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-fundamentals/data-types-overview" class="">
                  Data types and metadata

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-fundamentals/table-relationships" class="">
                  Database table relationships

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-fundamentals/dimensions-and-measures" class="">
                  Measures and dimensions

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-fundamentals/fact-table" class="">
                  Fact and dimension tables

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-fundamentals/normalization" class="">
                  Data normalization

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-fundamentals/view" class="">
                  What is a database view?

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-landscape/sql-performance-tuning" class="">
                  Query performance tuning

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-fundamentals/data-cube" class="">
                  Data cubes

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/grow-your-data-skills/data-landscape/" class="">
        Data landscape

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-landscape/data-landscape" class="">
                  A guide to the data landscape

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-landscape/types-of-databases" class="">
                  Types of databases

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-landscape/data-mart-data-warehouse-data-lake" class="">
                  Data warehouse vs data lake vs data mart

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-landscape/which-data-warehouse" class="">
                  Which data warehouse should you use?

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-landscape/etl-landscape" class="">
                  ETLs, ELTs, and Reverse ETLs

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/grow-your-data-skills/analytics/" class="">
        Strategies for analytics

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/analytics/editing-dashboards" class="">
                  Why you should regularly edit your dashboards

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/analytics/information-budget" class="">
                  Managing your information budget

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/analytics/avoiding-data-jargon" class="">
                  Don't use "data" as a crutch for lazy thinking

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/analytics/data-model-mistakes" class="">
                  Common data model mistakes made by startups

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/analytics/analytics-mistakes" class="">
                  Ten common analytics mistakes startups make

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/analytics/embedding-mistakes" class="">
                  The five stages of embedding grief

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/analytics/push-and-pull" class="">
                  The push and pull of analytics

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/grow-your-data-skills/data-visualization/" class="">
        Data visualization

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/data-visualization/cumulative-charts" class="">
                  Cumulative charts to track values over time

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/grow-your-data-skills/business-analysis-methods/" class="">
        Business analysis methods

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/grow-your-data-skills/business-analysis-methods/how-to-do-funnel-analysis" class="">
                  How to do funnel analysis

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
  </ul>

  <h5>Cheat sheets</h5>

  <ul>
    
      

      

      

      

      <li class="">
        <a href="/learn/cheat-sheets/which-chart-to-use" class="">
        Which chart to use?

          
        </a>

        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/cheat-sheets/how-to-choose-the-right-map-visualization" class="">
        Which map to use?

          
        </a>

        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/cheat-sheets/sql-cheat-sheet" class="">
        SQL cheat sheet

          
        </a>

        
      </li>
    
      

      

      

      

      <li class="">
        <a href="/learn/cheat-sheets/transition-guides/" class="">
        Transition from other BI tools

          
            <div>
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
          
        </a>

        
          <ul>
            
              

              

              

              <li class="">
                <a href="/learn/cheat-sheets/transition-guides/powerbi-to-metabase" class="">
                  Power BI to Metabase

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/cheat-sheets/transition-guides/tableau-to-metabase" class="">
                  Tableau to Metabase

                  
                </a>
                
              </li>
            
              

              

              

              <li class="">
                <a href="/learn/cheat-sheets/transition-guides/looker-to-metabase" class="">
                  Looker to Metabase

                  
                </a>
                
              </li>
            
          </ul>
        
      </li>
    
  </ul>


</div>


    <article class="learn__post learn__article">
      <div class="top-bar">
  <div>
    
      <div class="learn-breadcrumb-trail">
        
          

        
      </div>
    
  </div>

  <div>
    

    
  </div>
</div>


      <div class="learn__post__content">
        
        
        
        <div>
  <a href="/events/interactive-embedding-workshop" class="in-page-promo">
    <img alt="interactive-embedding-workshop" class="no-zoom" src="/images/events/categories/workshops.jpg" loading="lazy">
    <div>
      <p>
        Build a working POC in just one hour.
      </p>
      <p>
        Join our next Interactive Embedding Workshop.
      </p>
      <p class="anchor-like">
        Register now<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="chevron">
<path opacity="0.9" d="M3 8.96338L16 21.9634L29 8.96338" stroke="#509ee3" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

      </p>
    </div>
  </a>
</div>

<p>In this tutorial, well show you a few options for publishing Metabase charts and dashboards, from lowest to highest effort.</p>

<p>Well start with no-code public links, work our way up to public embeds that only require a single code snippet, and finish with sample code for those of you who want to spin up your own web app.</p>

<p>If youd like to see some examples of when and why youd choose one kind of publishing over another, check out <a href="/learn/metabase-basics/embedding/external-sharing">A Metabase mystery</a>.</p>

<h2 id="public-links-and-embeds">Public links and embeds</h2>

<p>For quick sharing of questions and dashboards, you can simply send a public link, or drop an iframe in your website (or in anything that renders HTML). This is a great way for sharing charts and dashboards on the fly.</p>

<h2 id="sharing-options">Sharing options</h2>

<p>Lets say we want to share a dashboard. Well click on the <strong>Sharing</strong> icon and select the <strong>Sharing and embedding</strong> option.</p>

<p><img src="/learn/images/embedding-charts-and-dashboards/example-dashboard.png" alt="An example dashboard using the Sample Database included with Metabase. To access the sharing options, click on the arrow in the upper right and select Sharing and embedding."></p>

<p>This will bring up our sharing options:</p>

<p><img src="/learn/images/embedding-charts-and-dashboards/sharing-options.png" alt="Sharing options include: Public link, Public embed, and Embed this dashboard in an Application (a static embed)."></p>

<h3 id="public-links">Public links</h3>

<p>A public link is the easiest way to share a dashboard. Public links arent even embeds; theyre just links to a single question or dashboard, though these public items are a little different than their original versions.</p>

<p><img src="/learn/images/embedding-charts-and-dashboards/powered-by-metabase.png" alt="An example of using a public link to share a dashboard, with the Powered by Metabase footer."></p>

<p>These public links will include a <strong>Powered by Metabase footer</strong>, which you can remove if you have a <a href="/pricing/">Pro or Enterprise plan</a>. The charts will also have their drill-through disabled, and we wont be able to <a href="/learn/metabase-basics/querying-and-dashboards/dashboards/custom-destinations">customize click behavior</a> on a dashboard.</p>

<p>If we have a default filter value set, Metabase will apply that filter to the question or dashboard. People will be able to change the filter, so we cant rely on filters to restrict which data people can see. To lock (or hide) a filter, well need to use a <a href="#enable-embedding-in-other-applications">static embed</a>.</p>

<p>We can also format the URL to assign a value to a filter, or hide the filter altogetherthough keep in mind that the recipient can simply edit the URL.</p>

<p>While these public links are hard to guess, anyone with that link could view our dashboard, so its not the best solution for sharing sensitive data. Still, we can quickly share a public link to a dashboard (with a customer, for example), then disable it once theyve seen it. If we share the dashboard again, Metabase will generate a new link (so we dont need to worry about access to the old link). If you accidentally share a link, you can disable it at any time; just toggle the sharing to off. Admins can view and disable all public links from the Admin panel.</p>

<h3 id="public-embeds">Public embeds</h3>

<p>We can embed a question or dashboard in our website using an iframe. Its as simple as copying and pasting code from your Metabase and dropping it into the source code of a webpage. We can even use it with no-code website buildersanywhere we can drop in HTML. For example, you can embed a dashboard in a blog to help <a href="https://punctumbooks.pubpub.org/pub/visualization-book-usage-statistics-metabase/release/2">tell a story with data</a>, or simply <a href="https://data.color.com/v2/cardio.html">fill the whole page with a dashboard</a>.</p>

<p>Heres an iframe to display a dashboard:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="nt"&gt;&lt;iframe&lt;/span&gt;
  &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;"http://your-website.com/public/dashboard/f54f5ae5-39a4-4662-85d5-a02e78165279"&lt;/span&gt;
  &lt;span class="na"&gt;frameborder=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;
  &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;"800"&lt;/span&gt;
  &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;"600"&lt;/span&gt;
  &lt;span class="na"&gt;allowtransparency&lt;/span&gt;
&lt;span class="nt"&gt;&gt;&lt;/iframe&gt;&lt;/span&gt;
&lt;/code&gt;</pre></div></div>

<p>An iframe creates another, nested browser window inside the current browser window. The iframe window points to its own URL, and presents the response from that address - in this case, the chart or dashboard we want to present. Like the public link, the chart will feature the <strong>Powered by Metabase footer</strong>.</p>

<p>We can adjust the width and height to suit our chart or dashboard. If were embedding a dashboard and the iframe isnt wide enough to accommodate the dashboards layout, Metabase will stack the questions in the order they appear, from left to right, on the dashboard.</p>

<h2 id="enable-embedding-in-other-applications">Enable embedding in other applications</h2>

<p>If we want to restrict who can see our chart or dashboard, or lock a filter, we need to use a static embed. This feature is separate from the public sharing options, and accessible only to admins. Well also have to enable the <code class="language-plaintext highlighter-rouge">Embedding in other Applications</code> setting before itll work. In the <strong>Admin Panel</strong>s <strong>Settings tab</strong>, well click on <code class="language-plaintext highlighter-rouge">Embedding in other Applications</code> and toggle on <code class="language-plaintext highlighter-rouge">Enabled</code>.</p>

<p>Lets return to the dashboard we want to share. With embedding enabled, we get a secret key.</p>

<p><img src="/learn/images/embedding-charts-and-dashboards/embedding-enabled.png" alt="With embedding enabled, you"></p>

<p>To set up a static embed, we need to insert some code on our server to sign JSON Web Tokens (JWT) for our users. Metabase will generate code for Clojure, Python, Ruby, and JavaScript (Node.js), but you should be able to translate that code for servers written in other languages as well.</p>

<p><img src="/learn/images/embedding-charts-and-dashboards/embed-code.png" alt="Metabase will supply the code you"></p>

<p>Before we hit the <strong>Publish button</strong>, lets review some of our options.</p>

<h3 id="hide-or-lock-parameters-to-restrict-what-data-is-shown">Hide or lock parameters to restrict what data is shown</h3>

<p>If our question or dashboard has a filter, we can disable the filter, or lock parameters to set a fixed filter value.</p>

<p>Lets say we want to show someone a dashboard, but we only want to let them see orders in the <code class="language-plaintext highlighter-rouge">Gadget</code> category.</p>

<p><img src="/learn/images/embedding-charts-and-dashboards/locked-parameters.png" alt="Locking a filter with the value Gadget."></p>

<p>In our example, the parameters set the filter on the dashboard. Here we set the Category filter to <code class="language-plaintext highlighter-rouge">Gadget</code>.</p>

<p>Heres some example code for a server written in Clojure:</p>

<div class="language-clojure highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;require&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;buddy.sign.jwt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;:as&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;jwt&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;metabase-site-url&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="s"&gt;"MY-DOMAIN-HERE"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;metabase-secret-key&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"SECRET-KEY-HERE"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;payload&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="no"&gt;:resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="no"&gt;:dashboard&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
   &lt;/span&gt;&lt;span class="no"&gt;:params&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;"category"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;"Gadget"&lt;/span&gt;&lt;span class="p"&gt;]}&lt;/span&gt;&lt;span class="w"&gt;
   &lt;/span&gt;&lt;span class="no"&gt;:exp&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;System/currentTimeMillis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;60&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))})&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;; 10 minute expiration&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;jwt/sign&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;payload&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;metabase-secret-key&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;iframe-url&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;metabase-site-url&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"/embed/dashboard/"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"#bordered=true&amp;titled=true"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>This code will use the secret key that Metabase gives us to sign the JWT token: our users will notand <em>should</em> notsee the secret key.</p>

<p>Heres how it will go down.</p>

<ol>
  <li>In Metabase, we publish the dashboard we want to embed in our application.</li>
  <li>We insert the iframe into a page of our application.</li>
  <li>We place the code to sign JSON Web Tokens in our server.</li>
  <li>Our user logs into our application.</li>
  <li>The user requests a page in our application with the embedded dashboard.</li>
  <li>When the server handles the request for that page, it will sign the users token and insert that token as the iframes source URL.</li>
  <li>When the page loads, the page requests the dashboard from our Metabase instance using the signed token.</li>
  <li>The dashboard loads in an iframe in our application with the paramaters and expiration set by our application server.</li>
</ol>

<p>If the token is not signed, or if its altered in any way, the dashboard wont load.</p>

<p>In the <code class="language-plaintext highlighter-rouge">payload</code> map, we can specify when the signed JWT will expire (in the code above, the token expires after 10 minutes).</p>

<p>The <code class="language-plaintext highlighter-rouge">:params</code> field is where we can lock a parameter to set a default, fixed filter on your dashboard or question. For example, we could create a dashboard with a filter for a user ID, thenon our serverprogrammatically insert a users ID as parameter. The signed token will lock the filter to that ID, so any user who sees that dashboard will only see data thats been filtered by their ID.</p>

<h2 id="examples">Examples</h2>

<p>We maintain embedding examples in several languages in <a href="https://github.com/metabase/embedding-reference-apps/">a public Git repository</a>. The subsections below walk through a minimal example in Django (a popular Python web framework) and Shiny (the most popular web framework for R).</p>

<h3 id="an-example-using-django">An example using Django</h3>

<p>Our minimal Django application contains just two files: an HTML template in <code class="language-plaintext highlighter-rouge">index.html</code> and a short Python program in <code class="language-plaintext highlighter-rouge">index.py</code>. The template is short and sweet:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="cp"&gt;&lt;!DOCTYPE html&gt;&lt;/span&gt;
&lt;span class="nt"&gt;&lt;html&gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&lt;head&gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&lt;title&gt;&lt;/span&gt;{{ title }}&lt;span class="nt"&gt;&lt;/title&gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&lt;/head&gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&lt;body&gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&lt;h1&gt;&lt;/span&gt;Embed {{ title }}&lt;span class="nt"&gt;&lt;/h1&gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&lt;iframe&lt;/span&gt;
      &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;"{{iframeUrl}}"&lt;/span&gt;
      &lt;span class="na"&gt;frameborder=&lt;/span&gt;&lt;span class="s"&gt;"1"&lt;/span&gt;
      &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;"800"&lt;/span&gt;
      &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;"600"&lt;/span&gt;
    &lt;span class="nt"&gt;&gt;&lt;/iframe&gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&lt;/body&gt;&lt;/span&gt;
&lt;span class="nt"&gt;&lt;/html&gt;&lt;/span&gt;
&lt;/code&gt;</pre></div></div>

<p>It requires two values: the page title in <code class="language-plaintext highlighter-rouge">title</code> and the URL of the iframe containing the static embed in <code class="language-plaintext highlighter-rouge">iframeUrl</code>. The title is just a string, but as explained above, we need to do a bit of work to construct the URL. The program starts with some libraries and settings required by Django:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="c1"&gt;# Required by Django
&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="n"&gt;django.conf.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="n"&gt;django.http&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;HttpResponse&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="n"&gt;django.template.loader&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;render_to_string&lt;/span&gt;

&lt;span class="n"&gt;DEBUG&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
&lt;span class="n"&gt;SECRET_KEY&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;4l0ngs3cr3tstr1ngw3lln0ts0l0ngw41tn0w1tsl0ng3n0ugh&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;
&lt;span class="n"&gt;ROOT_URLCONF&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;__name__&lt;/span&gt;
&lt;span class="n"&gt;TEMPLATES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[{&lt;/span&gt;
    &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;BACKEND&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;django.template.backends.django.DjangoTemplates&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;DIRS&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;getcwd&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;
&lt;span class="p"&gt;}]&lt;/span&gt;
&lt;/code&gt;</pre></div></div>

<p>We then include a couple of libraries and define a couple of values for the embedding:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="c1"&gt;# Required for Metabase embedding
&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;jwt&lt;/span&gt;
&lt;span class="n"&gt;METABASE_SITE_URL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;http://localhost:3000&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;
&lt;span class="n"&gt;METABASE_SECRET_KEY&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;40e0106db5156325d600c37a5e077f44a49be1db9d02c96271e7bd67cc9529fa&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;
&lt;/code&gt;</pre></div></div>

<p>We need <code class="language-plaintext highlighter-rouge">time</code> to calculate the expiry time for our signed token and the <a href="https://pyjwt.readthedocs.io/"><code class="language-plaintext highlighter-rouge">jwt</code></a> library to sign the token. <code class="language-plaintext highlighter-rouge">METABASE_SITE_URL</code> tells the program where to find our instance of Metabasein this case were running it locallyand <code class="language-plaintext highlighter-rouge">METABASE_SECRET_KEY</code> is the value generated by Metabase that we send back to it to prove were allowed to access questions. We wouldnt put this in our source code in a production environment; instead, we would store it in an environment variable or a separate configuration file.</p>

<p>We must include three values in the token we send to Metabase. Since one of these is the token expiry time, which changes for each request, we put the code for constructing the token in the function that handles requests for pages. For example purposes we want question #1, and well ask that the token be valid from now until ten minutes in the future:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="c1"&gt;# Handle requests for '/'.
&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;home&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;payload&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;resource&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;question&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;params&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{},&lt;/span&gt;
        &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;exp&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nf"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;time&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;60&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;token&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;jwt&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;payload&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;METABASE_SECRET_KEY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;algorithm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;HS256&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;iframeUrl&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;METABASE_SITE_URL&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;/embed/question/&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;token&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;#bordered=true&amp;titled=true&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;
    &lt;span class="n"&gt;html&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nf"&gt;render_to_string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;index.html&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;title&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;Embedding Metabase&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;iframeUrl&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;iframeUrl&lt;/span&gt;
    &lt;span class="p"&gt;})&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nc"&gt;HttpResponse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;</pre></div></div>

<p>We use the function <code class="language-plaintext highlighter-rouge">jwt.encode</code> from the <code class="language-plaintext highlighter-rouge">jwt</code> library to encrypt our token parameters using the secret key we got from metabase. (The parameter <code class="language-plaintext highlighter-rouge">algorithm='HS256'</code> tells <code class="language-plaintext highlighter-rouge">jwt.encode</code> which hashing algorithm to usewe must always use that one.) We then insert that encrypted token into a URL, render the HTML template, and return that to the application. Finally, our program ends by telling Django how to match incoming requests to rendering functions:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="n"&gt;urlpatterns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="nf"&gt;url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;^$&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="s"&gt;homepage&lt;/span&gt;&lt;span class="sh"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;</pre></div></div>

<p>If we run our application from the command line with:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;django-admin runserver &lt;span class="nt"&gt;--pythonpath&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;.&lt;/span&gt; &lt;span class="nt"&gt;--settings&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;index
&lt;/code&gt;</pre></div></div>

<p>and then point our browser at <code class="language-plaintext highlighter-rouge">http://localhost:8000/</code>, the following things happen in order:</p>

<ol>
  <li>
    <p>The browser sends an HTTP request for <code class="language-plaintext highlighter-rouge">/</code> (the root of the website) to the Django application that is listening on port 8000.</p>
  </li>
  <li>
    <p>That application matches the URL in the request to the <code class="language-plaintext highlighter-rouge">home</code> function.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">home</code> generates a new token whose expiry time is 10 seconds in the future.</p>
  </li>
  <li>
    <p>It then reads <code class="language-plaintext highlighter-rouge">index.html</code> and replaces <code class="language-plaintext highlighter-rouge">{{title}}</code> with <code class="language-plaintext highlighter-rouge">Embedding Metabase</code> and <code class="language-plaintext highlighter-rouge">{{iframeUrl}}</code> with the URL that includes the newly-generated token.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">home</code> then sends that HTML back to the browser.</p>
  </li>
  <li>
    <p>As the browser is displaying that HTML it comes across the iframe. The <code class="language-plaintext highlighter-rouge">src</code> attribute in the <code class="language-plaintext highlighter-rouge">iframe</code> tag tells it to send a request to Metabase.</p>
  </li>
  <li>
    <p>When Metabase gets a request whose URL starts with <code class="language-plaintext highlighter-rouge">/embed/question</code>, it extracts the rest of the path from the URL and decrypts it.</p>
  </li>
  <li>
    <p>Since the URL was encoded with a secret key that Metabase generated, decryption is successful, which tells Metabase that the sender is allowed to view the question. The values embedded in the token tell Metabase which question is being asked for.</p>
  </li>
  <li>
    <p>Metabase runs the question and produces the HTML that it would display in its own interface, then sends that HTML back to the browser that made the request.</p>
  </li>
  <li>
    <p>The browser inserts that HTML into the iframe and shows it to the user.</p>
  </li>
</ol>

<h3 id="an-example-using-shiny">An example using Shiny</h3>

<p>Our minimal Shiny example is a little bit simpler than the Django example shown above because Shiny requires less boilerplate. To start, we load the libraries for Shiny itself, managing web tokens, and gluing strings together:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="n"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;shiny&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;jose&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;glue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>We then define two values that specify where Metabase is running (well use a local instance) and the secret key that Metabase provided for authentication:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="n"&gt;METABASE_SITE_URL&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'http://localhost:3000'&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;METABASE_SECRET_KEY&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'40e0106db5156325d600c37a5e077f44a49be1db9d02c96271e7bd67cc9529fa'&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>The user interface is based on a popular CSS framework called <a href="https://www.bootstrap-ui.com/">Bootstrap</a> and has two elements: the level-1 heading containing the pages title and a <code class="language-plaintext highlighter-rouge">div</code> containing our iframe. The UI doesnt build the iframe itself; instead, it uses the <code class="language-plaintext highlighter-rouge">uiOutput</code> function to render something called <code class="language-plaintext highlighter-rouge">container</code>:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="n"&gt;ui&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;bootstrapPage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Page title'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;uiOutput&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'container'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>Where does <code class="language-plaintext highlighter-rouge">container</code> come from? In Shiny, the answer is, The server. As shown below, <code class="language-plaintext highlighter-rouge">server</code> builds a JWT claim and encrypts it to construct the iframes URL. It then calls <code class="language-plaintext highlighter-rouge">renderUI</code> to get the HTML content of the iframe and assigns that to <code class="language-plaintext highlighter-rouge">output$container</code>. When this assignment happens, Shiny automatically tells the UI that it needs to redraw the page:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="c1"&gt;# Token expires 10 minutes in the future.&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;expiry&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;as.integer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;unclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Sys.time&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;60&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

  &lt;/span&gt;&lt;span class="c1"&gt;# Construct params in two steps so that JSON conversion knows it's a list.&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;list&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="nf"&gt;names&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;character&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

  &lt;/span&gt;&lt;span class="c1"&gt;# Create the JWT claim.&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;claim&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;jwt_claim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;expiry&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;question&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

  &lt;/span&gt;&lt;span class="c1"&gt;# Encode token and use it to construct iframe URL.&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;jwt_encode_hmac&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;claim&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;secret&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;METABASE_SECRET_KEY&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;glue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"{METABASE_SITE_URL}/embed/question/{token}#bordered=true&amp;titled=true"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;container&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;renderUI&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;iframe&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"600"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"600"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>Lets go through the <code class="language-plaintext highlighter-rouge">server</code> function in more detail. First, we want our token to be good for ten minutes, so we get the current time as an integer and add 600 seconds:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;expiry&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;as.integer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nf"&gt;unclass&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Sys.time&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;60&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>We then use the <code class="language-plaintext highlighter-rouge">jwt_claim</code> function from the <a href="https://github.com/jeroen/jose/"><code class="language-plaintext highlighter-rouge">jose</code></a> library to construct the token. This function gets its name from the fact that were claiming were allowed to do something, and it takes any number of named parameters as inputs:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;list&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="nf"&gt;names&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;character&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;claim&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;jwt_claim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;expiry&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;resource&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;question&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;list&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>The first two lines of the code shown above are needed because <code class="language-plaintext highlighter-rouge">jose</code> relies on another library called <code class="language-plaintext highlighter-rouge">jsonlite</code> to turn structures into JSON strings, and by default that library turns an empty list into an empty array <code class="language-plaintext highlighter-rouge">[]</code> rather than an empty map <code class="language-plaintext highlighter-rouge">{}</code>. Its a small difference, but when Metabase decodes the structure, it requires <code class="language-plaintext highlighter-rouge">params</code> to be a map with keys. The fix is to give <code class="language-plaintext highlighter-rouge">params</code> an empty list of names so that <code class="language-plaintext highlighter-rouge">jsonlite</code> produces <code class="language-plaintext highlighter-rouge">{}</code> as required; to be sure this will work, make sure you have <code class="language-plaintext highlighter-rouge">jose</code> version 0.3 or later.</p>

<p>Once we have the claim we can encode it with <code class="language-plaintext highlighter-rouge">jwt_encode_hmac</code> and construct the iframe URL. <code class="language-plaintext highlighter-rouge">jwt_encode_hmac</code> uses the HS256 encoding algorithm by default, so we dont have to specify it explicitly:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;jwt_encode_hmac&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;claim&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;secret&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;METABASE_SECRET_KEY&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
  &lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;glue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"{METABASE_SITE_URL}/embed/question/{token}#bordered=true&amp;titled=true"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>Finally, we use <code class="language-plaintext highlighter-rouge">renderUI</code> to get the HTML of the iframe and assign it to <code class="language-plaintext highlighter-rouge">output$container</code>, which automatically triggers an update of the browser page:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;container&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&lt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;renderUI&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;iframe&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"600"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"600"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>The last line of the file runs our application on port 8001:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight">&lt;code&gt;&lt;span class="n"&gt;shinyApp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ui&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ui&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8001&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;</pre></div></div>

<p>If we run this program from the command line with <code class="language-plaintext highlighter-rouge">Rscript app.R</code> and point our browser at <code class="language-plaintext highlighter-rouge">http://localhost:8001</code>, we see our embedded question.</p>

<h2 id="interactive-embedding">Interactive embedding</h2>

<p>If you want to unlock the full potential of Metabase when embedding, which would allow people to drill through the data, or send them to <a href="/docs/latest/dashboards/interactive#custom-destinations">custom destinations</a> like other dashboards or external URLS, youll need interactive embedding. To learn more, see <a href="/learn/metabase-basics/embedding/overview">Deliver analytics to your customers</a> and <a href="/learn/metabase-basics/embedding/multi-tenant-self-service-analytics">Embed Metabase in your app to deliver multi-tenant, self-serving analytics</a>.</p>

<h2 id="further-reading">Further reading</h2>

<ul>
  <li><a href="/docs/latest/embedding/start">Embedding docs</a></li>
  <li><a href="https://github.com/metabase/embedding-reference-apps/">Embedding reference apps</a></li>
  <li><a href="/docs/latest/embedding/introduction">Embedding Metabase in other applications</a></li>
  <li><a href="/learn/grow-your-data-skills/analytics/embedding-mistakes">The five stages of embedding grief</a></li>
</ul>


        <div id="was-this-helpful-widget">
  <div id="page-feedback">
    <h6>Was this helpful?</h6>
    <button id="page-feedback-vote-up" class="vote-button Button">
      <svg id="" class="me-1" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.6667 7.33333H14.6367C14.9207 7.33334 15.2001 7.40595 15.4482 7.54427C15.6963 7.68259 15.9049 7.88202 16.0543 8.12364C16.2036 8.36525 16.2888 8.64104 16.3016 8.9248C16.3144 9.20857 16.2545 9.4909 16.1275 9.745L13.2108 15.5783C13.0724 15.8554 12.8595 16.0884 12.596 16.2512C12.3325 16.414 12.0289 16.5001 11.7192 16.5H8.37167C8.23583 16.5 8.1 16.4833 7.9675 16.45L4.83333 15.6667M10.6667 7.33333V3.16667C10.6667 2.72464 10.4911 2.30072 10.1785 1.98816C9.86595 1.67559 9.44203 1.5 9 1.5H8.92083C8.50417 1.5 8.16667 1.8375 8.16667 2.25417C8.16667 2.84917 7.99083 3.43083 7.66 3.92583L4.83333 8.16667V15.6667M10.6667 7.33333H9M4.83333 15.6667H3.16667C2.72464 15.6667 2.30072 15.4911 1.98816 15.1785C1.67559 14.866 1.5 14.442 1.5 14V9C1.5 8.55797 1.67559 8.13405 1.98816 7.82149C2.30072 7.50893 2.72464 7.33333 3.16667 7.33333H5.25" stroke="#509ee3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

      Yes
    </button>
    <button id="page-feedback-vote-down" class="vote-button Button">
      <svg id="" class="rotate-180 me-1" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.6667 7.33333H14.6367C14.9207 7.33334 15.2001 7.40595 15.4482 7.54427C15.6963 7.68259 15.9049 7.88202 16.0543 8.12364C16.2036 8.36525 16.2888 8.64104 16.3016 8.9248C16.3144 9.20857 16.2545 9.4909 16.1275 9.745L13.2108 15.5783C13.0724 15.8554 12.8595 16.0884 12.596 16.2512C12.3325 16.414 12.0289 16.5001 11.7192 16.5H8.37167C8.23583 16.5 8.1 16.4833 7.9675 16.45L4.83333 15.6667M10.6667 7.33333V3.16667C10.6667 2.72464 10.4911 2.30072 10.1785 1.98816C9.86595 1.67559 9.44203 1.5 9 1.5H8.92083C8.50417 1.5 8.16667 1.8375 8.16667 2.25417C8.16667 2.84917 7.99083 3.43083 7.66 3.92583L4.83333 8.16667V15.6667M10.6667 7.33333H9M4.83333 15.6667H3.16667C2.72464 15.6667 2.30072 15.4911 1.98816 15.1785C1.67559 14.866 1.5 14.442 1.5 14V9C1.5 8.55797 1.67559 8.13405 1.98816 7.82149C2.30072 7.50893 2.72464 7.33333 3.16667 7.33333H5.25" stroke="#509ee3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

      No
    </button>
  </div>

  <div id="page-comment" class="flex flex-wrap full hide">
    <p id="page-feedback-question"></p>

    <form id="page-comment-form" class="flex full">
      <textarea id="feedback-comment-text" name="comment" placeholder="Type here"></textarea>

      <button id="page-comment-submit" class="Button flex align-center">
        Send
      </button>
    </form>
  </div>

  <div id="page-feedback-message" class="fs-18 hide">
    <h6 class="page-feedback-title">Thanks for your feedback!</h6>
  </div>

  
</div>



        <iframe src="../../../subscribe-to-ai-newsletter-bottom-of-article.html" id="subscribe-to-ai-newsletter-bottom-of-article" class="newsletter-subscribe" onload="javascript:(function(o){
          o.style.height=o.contentWindow.document.getElementById('newsletter-ajax-form-container-below-article').offsetHeight+'px';

          const resizeObserver = new ResizeObserver(function(entries) {
              const $firstEntry = entries[0];
              if ($firstEntry &amp;&amp; $firstEntry.borderBoxSize &amp;&amp; $firstEntry.borderBoxSize[0]) {
                  const $form = $firstEntry.borderBoxSize[0];
                  if ($form) {
                      o.style.height = $form.blockSize + 'px';
                  }
              }
          });
          resizeObserver.observe(o.contentWindow.document.getElementById('newsletter-ajax-form-container-below-article'));
      }(this));"></iframe>



        <div class="learn__article__nav__container ">
  
    <a href="/learn/metabase-basics/embedding/overview" class="learn__article__nav previous">
      <div class="learn__article__nav__icon">
        <svg width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.334 5.19544C11.334 5.66052 10.957 6.03754 10.4919 6.03754L3.68762 6.03754L6.37184 8.47774C6.71597 8.79059 6.74134 9.32318 6.42849 9.66731C6.11564 10.0114 5.58305 10.0368 5.23892 9.72396L0.942961 5.81854C0.77256 5.66363 0.673035 5.44569 0.667557 5.21547C0.662078 4.98524 0.751125 4.76282 0.913965 4.59998L5.20992 0.30402C5.53878 -0.0248429 6.07198 -0.0248428 6.40084 0.30402C6.7297 0.632882 6.7297 1.16607 6.40084 1.49494L3.54244 4.35333L10.4919 4.35333C10.957 4.35333 11.334 4.73035 11.334 5.19544Z" fill="#5A6072"></path>
</svg>

      </div>
      <div>
        <h5>Previous</h5>
        <h4>Strategies for delivering customer-facing analytics</h4>
      </div>
    </a>
  

  
    <a href="/learn/metabase-basics/embedding/external-sharing" class="learn__article__nav next">
      <div>
        <h5>Next</h5>
        <h4>A Metabase mystery</h4>
      </div>
      <div class="learn__article__nav__icon">
        <svg width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M0.666992 4.80871C0.666992 4.34363 1.04402 3.96661 1.5091 3.96661L8.31336 3.96661L5.62913 1.52641C5.285 1.21356 5.25964 0.680971 5.57249 0.336838C5.88534 -0.00729488 6.41792 -0.032656 6.76206 0.280192L11.058 4.18561C11.2284 4.34052 11.3279 4.55846 11.3334 4.78868C11.3389 5.01891 11.2499 5.24133 11.087 5.40417L6.79105 9.70013C6.46219 10.029 5.929 10.029 5.60014 9.70013C5.27128 9.37127 5.27128 8.83808 5.60014 8.50921L8.45853 5.65082L1.5091 5.65082C1.04402 5.65082 0.666992 5.2738 0.666992 4.80871Z" fill="#5A6072"></path>
</svg>

      </div>
    </a>
  
</div>

      </div>

      <div class="learn__right-sidebar">
        <div id="sub-navigation-content">
          
        </div>
        <div id="right-hand-newsletter-subscribe-widget" class="">
  
  <div class="right-hand-newsletter-subscribe-form-container">
    <h6>Weekly tips for analysts</h6>
    <h5>
      Get actionable insights<br>on AI and data directly to your inbox
    </h5>

    <iframe src="../../../subscribe-to-ai-newsletter-righthandside.html" id="subscribe-to-ai-newsletter-righthandside" onload="javascript:(function(o){
          o.style.height=o.contentWindow.document.getElementById('feedback-widget-newsletter-ajax-form-container').offsetHeight+'px';

          const resizeObserver = new ResizeObserver(function(entries) {
            const $firstEntry = entries[0];
            if ($firstEntry &amp;&amp; $firstEntry.borderBoxSize &amp;&amp; $firstEntry.borderBoxSize[0]) {
              const $form = $firstEntry.borderBoxSize[0];
              if ($form) {
                o.style.height = $form.blockSize + 'px';
              }
            }

            if (window.resizeLearnRightSidebar) {
              window.resizeLearnRightSidebar();
            }
          });
          resizeObserver.observe(o.contentWindow.document.getElementById('feedback-widget-newsletter-ajax-form-container'));
        }(this));"></iframe>
  </div>
  
</div>




      </div>
    </article>
  </div>
</div>









    </div>

    <div class="bootstrap">
  
</div>























  

  
  
  
  
  

  




</Base>
