(()=>{let n=document.querySelector(".navigation-header").getBoundingClientRect().height,e="tabs-with-timer",v=e+"__button--";var t="."+e;let o="ready",m="selected";var y=new IntersectionObserver(function(e){var t=e[0].target.id,a=window.videojs(t);!0===e[0].isIntersecting?a.ready(function(){a.paused()&&a.play()}):a.ready(function(){a.pause()})});function f(e,t,n){e.forEach((e,t)=>{t===n?e.classList.add(o):e.classList.remove(o)}),t.forEach((e,t)=>{var a=e.querySelector(".autoplay-video");a&&!e.videoPlayer&&(e.videoPlayer=window.videojs(a,{autoplay:!1,controls:!1,id:a.id,loop:!0,muted:!0,playsinline:!0,preload:"auto"}),e.videoPlayer.currentTime(0),y.unobserve(a)),t===n?e.classList.add(o):e.classList.remove(o)})}let r=1;document.querySelectorAll(t).forEach(s=>{let l=s.querySelectorAll(".tabs-with-timer__button"),c=s.querySelectorAll(".tabs-with-timer__content"),d=(l.length!==c.length&&console.error("Tabs with timer: tabs and contents are not matching"),f(l,c,0),null);function u(t){var a,n,o,r,i=l[t];if(i){var i=i.className.split(" ").find(e=>0===e.indexOf(v));let e=null;i&&(e=1e3*parseInt(i.replace(v,""))),i=l,a=c,n=t,o=()=>{u(t===l.length-1?0:t+1)},r=e||3e4,o=void(s.hasAttribute("data-disable-autoplay")||(d&&clearTimeout(d),o&&(d=setTimeout(o,r)))),f(i,a,n),i.forEach((e,t)=>{t===n?(e.classList.add(m),e.parentElement.classList.add(m)):(e.classList.remove(m),e.parentElement.classList.remove(m))}),a.forEach((e,t)=>{t===n?e.classList.add(m):e.classList.remove(m)}),i=a[n],(a=i.querySelector(".lottie-animation"))&&(a.seek(0),a.play()),(a=i.querySelector(".autoplay-video"))&&y.observe(a),o&&"function"==typeof o&&o()}else console.warn(e+" error: undefined button at index "+t)}function t(){var e=new URLSearchParams(window.location.search).get("start-at-tab");if(e){e=document.querySelector(`button[data-slug=${e}]`);if(e)return void e.click()}u(0)}function a(){var e;e=(e=s).getBoundingClientRect(),!(Math.ceil(e.top+r)>=n)||(document.removeEventListener("scroll",a),window.removeEventListener("resize",a),t())}l.forEach((e,t)=>{e.addEventListener("click",()=>{u(t)})}),document.addEventListener("scroll",a),window.addEventListener("resize",a),window.addEventListener("DOMContentLoaded",()=>{t()})})})();