let $sliders=document.querySelectorAll(".carousel"),interval=10800,animationTime=1100,userAgentString=navigator.userAgent,safariAgent=-1<userAgentString.indexOf("Safari"),chromeAgent=-1<userAgentString.indexOf("Chrome");function getCurrPrevImgs(t){var s={prev:-1,current:-1,next:-1};for(let e=0;e<t.length;e++)t[e].classList.contains("carousel__slide--current")?s.current=e:t[e].classList.contains("carousel__slide--prev")?s.prev=e:t[e].classList.contains("carousel__slide--next")&&(s.next=e);return s}function animateSlider(e,t){var s=t.querySelectorAll(".carousel__slide");for(let e=0;e<s.length;e++)s[e].classList.remove("carousel-preload"),s[e].style.animation="";var r,t=getCurrPrevImgs(s),a=t.prev,l=t.current,t=t.next,i=safariAgent?" both":"";console.log(i),"right"==e?(s[t].classList.remove("carousel__slide--next"),s[l].classList.remove("carousel__slide--current"),s[a].classList.remove("carousel__slide--prev"),s[r=t+1>s.length-1?0:t+1].style.animation="right-in 1s"+i,s[r].classList.add("carousel__slide--next"),s[a].style.animation="left-out 1s"+i,s[t].classList.add("carousel__slide--current"),s[l].classList.add("carousel__slide--prev")):"left"==e&&(s[a].classList.remove("carousel__slide--prev"),s[l].classList.remove("carousel__slide--current"),s[t].classList.remove("carousel__slide--next"),s[l].style.animation="",s[r=a-1<0?s.length-1:a-1].style.animation="left-in 1s"+i,s[r].classList.add("carousel__slide--prev"),s[a].classList.add("carousel__slide--current"),s[l].classList.add("carousel__slide--next"),s[t].style.animation="right-out 1s"+i)}chromeAgent&&(safariAgent=safariAgent&&!1);for(let s=0;s<$sliders.length;++s){let r=$sliders[s],e=r.querySelectorAll(".carousel__slide"),a=(e[0].classList.add("carousel__slide--prev"),e[1].classList.add("carousel__slide--current"),e[2].classList.add("carousel__slide--next"),setInterval(()=>animateSlider("right",r),interval)),l,i=!0,n=r.querySelectorAll(".carousel__nav--button");for(let s=0;s<n.length;++s){let e=n[s],t=e.classList.contains("carousel__nav--right")?"right":"left";e.addEventListener("click",function(){i&&(animateSlider(t,r),i=!1,clearTimeout(l),setTimeout(()=>{i=!0},animationTime),clearInterval(a),a=setInterval(()=>animateSlider("right",r),interval))})}let c=0,o=0,t;["touchstart","mousedown"].forEach(e=>{r.addEventListener(e,e=>{clearTimeout(t),t=setTimeout(function(){c=("touchstart"===e.type?e.changedTouches[0]:e).screenX},50)})}),["touchend","mouseup"].forEach(e=>{r.addEventListener(e,s=>{clearTimeout(t),t=setTimeout(function(){var e=(o=("touchend"===s.type?s.changedTouches[0]:s).screenX)<c?"right":"left",t=50<Math.abs(o-c);i&&t&&(animateSlider(e,r),i=!1,clearTimeout(l),l=setTimeout(function(){i=!0},animationTime),clearInterval(a),a=setInterval(()=>animateSlider("right",r),interval))},50)})}),r.addEventListener("click",function(e){e=e.target.closest(".carousel__slide");let t=null;e&&(e.classList.contains("carousel__slide--prev")?t="left":e.classList.contains("carousel__slide--next")&&(t="right")),i&&t&&(animateSlider(t,r),i=!1,clearTimeout(l),l=setTimeout(function(){i=!0},animationTime),clearInterval(a),a=setInterval(()=>animateSlider("right",r),interval))})}